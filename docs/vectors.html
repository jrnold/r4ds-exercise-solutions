<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R for Data Science Solutions</title>
  <meta name="description" content="This contains the solutions to the exercises in the book, R for Data Science, by Garrett Grolemund and Hadley Wickham.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R for Data Science Solutions" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://jrnold.github.io/r4ds-exercise-solutions" />
  
  <meta property="og:description" content="This contains the solutions to the exercises in the book, R for Data Science, by Garrett Grolemund and Hadley Wickham." />
  <meta name="github-repo" content="jrnold/r4ds-exercise-solutions" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R for Data Science Solutions" />
  <meta name="twitter:site" content="@jrnld" />
  <meta name="twitter:description" content="This contains the solutions to the exercises in the book, R for Data Science, by Garrett Grolemund and Hadley Wickham." />
  

<meta name="author" content="Jeffrey B. Arnold">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="functions.html">
<link rel="next" href="iteration.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="r4ds.css" type="text/css" />
<link rel="stylesheet" href="r4ds-solutions.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Data Science Solutions</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#organization"><i class="fa fa-check"></i>Organization</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#dependencies"><i class="fa fa-check"></i>Dependencies</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#bugscontributing"><i class="fa fa-check"></i>Bugs/Contributing</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#updates"><i class="fa fa-check"></i>Updates</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section"><i class="fa fa-check"></i>2018-08-06</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-1"><i class="fa fa-check"></i>2018-08-05</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-2"><i class="fa fa-check"></i>2018-08-04</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-3"><i class="fa fa-check"></i>2018-08-03</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-4"><i class="fa fa-check"></i>2018-08-01</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-5"><i class="fa fa-check"></i>2018-07-31</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-6"><i class="fa fa-check"></i>2018-07-30</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-7"><i class="fa fa-check"></i>2018-07-29</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-8"><i class="fa fa-check"></i>2018-07-28</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-9"><i class="fa fa-check"></i>2018-07-24</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-10"><i class="fa fa-check"></i>2018-07-23</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-11"><i class="fa fa-check"></i>2018-07-22</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-12"><i class="fa fa-check"></i>2018-07-21</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-13"><i class="fa fa-check"></i>2018-07-15</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-14"><i class="fa fa-check"></i>2018-07-14</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#section-15"><i class="fa fa-check"></i>2018-05-08</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i>Colophon</a></li>
</ul></li>
<li class="part"><span><b>I Explore</b></span></li>
<li class="chapter" data-level="2" data-path="explore-intro.html"><a href="explore-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Data Visualisation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#first-steps"><i class="fa fa-check"></i><b>3.2</b> First Steps</a><ul>
<li><a href="data-visualisation.html#exercise-3.2.1.">Exercise <span class="exercise-number">3.2.1</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.2.2.">Exercise <span class="exercise-number">3.2.2</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.2.3.">Exercise <span class="exercise-number">3.2.3</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.2.4.">Exercise <span class="exercise-number">3.2.4</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.2.5.">Exercise <span class="exercise-number">3.2.5</span>.</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-visualisation.html"><a href="data-visualisation.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.3</b> Aesthetic mappings</a><ul>
<li><a href="data-visualisation.html#exercise-3.3.1">Exercise <span class="exercise-number">3.3.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.2">Exercise <span class="exercise-number">3.3.2</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.3">Exercise <span class="exercise-number">3.3.3</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.4">Exercise <span class="exercise-number">3.3.4</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.5">Exercise <span class="exercise-number">3.3.5</span></a></li>
<li><a href="data-visualisation.html#exercise-3.3.6.">Exercise <span class="exercise-number">3.3.6</span>.</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-visualisation.html"><a href="data-visualisation.html#common-problems"><i class="fa fa-check"></i><b>3.4</b> Common problems</a></li>
<li class="chapter" data-level="3.5" data-path="data-visualisation.html"><a href="data-visualisation.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a><ul>
<li><a href="data-visualisation.html#exercise-3.5.1">Exercise <span class="exercise-number">3.5.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.2">Exercise <span class="exercise-number">3.5.2</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.3">Exercise <span class="exercise-number">3.5.3</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.4">Exercise <span class="exercise-number">3.5.4</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.5">Exercise <span class="exercise-number">3.5.5</span></a></li>
<li><a href="data-visualisation.html#exercise-3.5.6">Exercise <span class="exercise-number">3.5.6</span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-visualisation.html"><a href="data-visualisation.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric Objects</a><ul>
<li><a href="data-visualisation.html#exercise-3.6.1">Exercise <span class="exercise-number">3.6.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.2">Exercise <span class="exercise-number">3.6.2</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.3">Exercise <span class="exercise-number">3.6.3</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.4">Exercise <span class="exercise-number">3.6.4</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.5">Exercise <span class="exercise-number">3.6.5</span></a></li>
<li><a href="data-visualisation.html#exercise-3.6.6">Exercise <span class="exercise-number">3.6.6</span></a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-visualisation.html"><a href="data-visualisation.html#statistical-transformations"><i class="fa fa-check"></i><b>3.7</b> Statistical Transformations</a><ul>
<li><a href="data-visualisation.html#exercise-3.7.1">Exercise <span class="exercise-number">3.7.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.7.2.">Exercise <span class="exercise-number">3.7.2</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.7.3.">Exercise <span class="exercise-number">3.7.3</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.7.4.">Exercise <span class="exercise-number">3.7.4</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.7.5.">Exercise <span class="exercise-number">3.7.5</span>.</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-visualisation.html"><a href="data-visualisation.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position Adjustments</a><ul>
<li><a href="data-visualisation.html#exercise-3.8.1.">Exercise <span class="exercise-number">3.8.1</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.8.2.">Exercise <span class="exercise-number">3.8.2</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.8.3.">Exercise <span class="exercise-number">3.8.3</span>.</a></li>
<li><a href="data-visualisation.html#exercise-3.8.4.">Exercise <span class="exercise-number">3.8.4</span>.</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="data-visualisation.html"><a href="data-visualisation.html#coordinate-systems"><i class="fa fa-check"></i><b>3.9</b> Coordinate Systems</a><ul>
<li><a href="data-visualisation.html#exercise-3.9.1">Exercise <span class="exercise-number">3.9.1</span></a></li>
<li><a href="data-visualisation.html#exercise-3.9.2">Exercise <span class="exercise-number">3.9.2</span></a></li>
<li><a href="data-visualisation.html#exercise-3.9.3">Exercise <span class="exercise-number">3.9.3</span></a></li>
<li><a href="data-visualisation.html#exercise-3.9.4">Exercise <span class="exercise-number">3.9.4</span></a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="data-visualisation.html"><a href="data-visualisation.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The Layered Grammar of Graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow-basics.html"><a href="workflow-basics.html"><i class="fa fa-check"></i><b>4</b> Workflow: basics</a><ul>
<li class="chapter" data-level="" data-path="workflow-basics.html"><a href="workflow-basics.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="4.1" data-path="workflow-basics.html"><a href="workflow-basics.html#coding-basics"><i class="fa fa-check"></i><b>4.1</b> Coding basics</a></li>
<li class="chapter" data-level="4.2" data-path="workflow-basics.html"><a href="workflow-basics.html#whats-in-a-name"><i class="fa fa-check"></i><b>4.2</b> What’s in a name?</a></li>
<li class="chapter" data-level="4.3" data-path="workflow-basics.html"><a href="workflow-basics.html#calling-functions"><i class="fa fa-check"></i><b>4.3</b> Calling functions</a></li>
<li class="chapter" data-level="4.4" data-path="workflow-basics.html"><a href="workflow-basics.html#practice"><i class="fa fa-check"></i><b>4.4</b> Practice</a><ul>
<li><a href="workflow-basics.html#exercise-4.4.1">Exercise <span class="exercise-number">4.4.1</span></a></li>
<li><a href="workflow-basics.html#exercise-4.4.2">Exercise <span class="exercise-number">4.4.2</span></a></li>
<li><a href="workflow-basics.html#exercise-4.4.3">Exercise <span class="exercise-number">4.4.3</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>5</b> Data transformation</a><ul>
<li class="chapter" data-level="5.1" data-path="data-transformation.html"><a href="data-transformation.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="data-transformation.html"><a href="data-transformation.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>5.2</b> Filter rows with <code>filter()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.2.1">Exercise <span class="exercise-number">5.2.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.2.2">Exercise <span class="exercise-number">5.2.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.2.3">Exercise <span class="exercise-number">5.2.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.2.4">Exercise <span class="exercise-number">5.2.4</span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-transformation.html"><a href="data-transformation.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>5.3</b> Arrange rows with <code>arrange()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.3.1">Exercise <span class="exercise-number">5.3.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.3.2">Exercise <span class="exercise-number">5.3.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.3.3">Exercise <span class="exercise-number">5.3.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.3.4">Exercise <span class="exercise-number">5.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transformation.html"><a href="data-transformation.html#select-columns-with-select"><i class="fa fa-check"></i><b>5.4</b> Select columns with <code>select()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.4.1">Exercise <span class="exercise-number">5.4.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.4.2">Exercise <span class="exercise-number">5.4.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.4.3">Exercise <span class="exercise-number">5.4.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.4.4">Exercise <span class="exercise-number">5.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transformation.html"><a href="data-transformation.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>5.5</b> Add new variables with <code>mutate()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.5.1">Exercise <span class="exercise-number">5.5.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.2">Exercise <span class="exercise-number">5.5.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.3">Exercise <span class="exercise-number">5.5.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.4">Exercise <span class="exercise-number">5.5.4</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.5">Exercise <span class="exercise-number">5.5.5</span></a></li>
<li><a href="data-transformation.html#exercise-5.5.6">Exercise <span class="exercise-number">5.5.6</span></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="data-transformation.html"><a href="data-transformation.html#grouped-summaries-with-summarise"><i class="fa fa-check"></i><b>5.6</b> Grouped summaries with <code>summarise()</code></a><ul>
<li><a href="data-transformation.html#exercise-5.6.1">Exercise <span class="exercise-number">5.6.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.2">Exercise <span class="exercise-number">5.6.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.3">Exercise <span class="exercise-number">5.6.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.4">Exercise <span class="exercise-number">5.6.4</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.5">Exercise <span class="exercise-number">5.6.5</span></a></li>
<li><a href="data-transformation.html#exercise-5.6.6">Exercise <span class="exercise-number">5.6.6</span></a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="data-transformation.html"><a href="data-transformation.html#grouped-mutates-and-filters"><i class="fa fa-check"></i><b>5.7</b> Grouped mutates (and filters)</a><ul>
<li><a href="data-transformation.html#exercise-5.7.1">Exercise <span class="exercise-number">5.7.1</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.2">Exercise <span class="exercise-number">5.7.2</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.3">Exercise <span class="exercise-number">5.7.3</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.4">Exercise <span class="exercise-number">5.7.4</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.5">Exercise <span class="exercise-number">5.7.5</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.6">Exercise <span class="exercise-number">5.7.6</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.7">Exercise <span class="exercise-number">5.7.7</span></a></li>
<li><a href="data-transformation.html#exercise-5.7.8">Exercise <span class="exercise-number">5.7.8</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="workflow-scripts.html"><a href="workflow-scripts.html"><i class="fa fa-check"></i><b>6</b> Workflow: scripts</a><ul>
<li class="chapter" data-level="6.1" data-path="workflow-scripts.html"><a href="workflow-scripts.html#running-code"><i class="fa fa-check"></i><b>6.1</b> Running code</a></li>
<li class="chapter" data-level="6.2" data-path="workflow-scripts.html"><a href="workflow-scripts.html#rstudio-diagnostics"><i class="fa fa-check"></i><b>6.2</b> RStudio diagnostics</a></li>
<li class="chapter" data-level="6.3" data-path="workflow-scripts.html"><a href="workflow-scripts.html#practice-1"><i class="fa fa-check"></i><b>6.3</b> Practice</a><ul>
<li><a href="workflow-scripts.html#exercise-6.3.1">Exercise <span class="exercise-number">6.3.1</span></a></li>
<li><a href="workflow-scripts.html#exercise-6.3.2">Exercise <span class="exercise-number">6.3.2</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>7</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="7.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#questions"><i class="fa fa-check"></i><b>7.2</b> Questions</a></li>
<li class="chapter" data-level="7.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#variation"><i class="fa fa-check"></i><b>7.3</b> Variation</a><ul>
<li><a href="exploratory-data-analysis.html#exercise-7.3.1">Exercise <span class="exercise-number">7.3.1</span></a></li>
<li><a href="exploratory-data-analysis.html#exercise-7.3.2">Exercise <span class="exercise-number">7.3.2</span></a></li>
<li><a href="exploratory-data-analysis.html#exercise-7.3.3">Exercise <span class="exercise-number">7.3.3</span></a></li>
<li><a href="exploratory-data-analysis.html#exercise-7.3.4">Exercise <span class="exercise-number">7.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#missing-values"><i class="fa fa-check"></i><b>7.4</b> Missing Values</a><ul>
<li><a href="exploratory-data-analysis.html#exercise-7.4.1">Exercise <span class="exercise-number">7.4.1</span></a></li>
<li><a href="exploratory-data-analysis.html#exercise-7.4.2">Exercise <span class="exercise-number">7.4.2</span></a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#covariation"><i class="fa fa-check"></i><b>7.5</b> Covariation</a><ul>
<li class="chapter" data-level="7.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#a-categorical-and-continuous-variable"><i class="fa fa-check"></i><b>7.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="7.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-categorical-variables"><i class="fa fa-check"></i><b>7.5.2</b> Two categorical variables</a></li>
<li class="chapter" data-level="7.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-continuous-variables"><i class="fa fa-check"></i><b>7.5.3</b> Two continuous variables</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#patterns-and-models"><i class="fa fa-check"></i><b>7.6</b> Patterns and models</a></li>
<li class="chapter" data-level="7.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#ggplot2-calls"><i class="fa fa-check"></i><b>7.7</b> ggplot2 calls</a></li>
<li class="chapter" data-level="7.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#learning-more"><i class="fa fa-check"></i><b>7.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="workflow-projects.html"><a href="workflow-projects.html"><i class="fa fa-check"></i><b>8</b> Workflow: projects</a></li>
<li class="part"><span><b>II Wrangle</b></span></li>
<li class="chapter" data-level="9" data-path="introduction-4.html"><a href="introduction-4.html"><i class="fa fa-check"></i><b>9</b> Introduction</a></li>
<li class="chapter" data-level="10" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>10</b> Tibbles</a><ul>
<li class="chapter" data-level="10.1" data-path="tibbles.html"><a href="tibbles.html#introduction-5"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="tibbles.html"><a href="tibbles.html#creating-tibbles"><i class="fa fa-check"></i><b>10.2</b> Creating Tibbles</a></li>
<li class="chapter" data-level="10.3" data-path="tibbles.html"><a href="tibbles.html#tibbles-vs.data.frame"><i class="fa fa-check"></i><b>10.3</b> Tibbles vs. data.frame</a></li>
<li class="chapter" data-level="10.4" data-path="tibbles.html"><a href="tibbles.html#subsetting"><i class="fa fa-check"></i><b>10.4</b> Subsetting</a></li>
<li class="chapter" data-level="10.5" data-path="tibbles.html"><a href="tibbles.html#interacting-with-older-code"><i class="fa fa-check"></i><b>10.5</b> Interacting with older code</a></li>
<li class="chapter" data-level="10.6" data-path="tibbles.html"><a href="tibbles.html#exercises"><i class="fa fa-check"></i><b>10.6</b> Exercises</a><ul>
<li><a href="tibbles.html#exercise-10.6.1">Exercise <span class="exercise-number">10.6.1</span></a></li>
<li><a href="tibbles.html#exercise-10.6.2">Exercise <span class="exercise-number">10.6.2</span></a></li>
<li><a href="tibbles.html#exercise-10.6.3">Exercise <span class="exercise-number">10.6.3</span></a></li>
<li><a href="tibbles.html#exercise-10.6.4">Exercise <span class="exercise-number">10.6.4</span></a></li>
<li><a href="tibbles.html#exercise-10.6.5">Exercise <span class="exercise-number">10.6.5</span></a></li>
<li><a href="tibbles.html#exercise-10.6.6">Exercise <span class="exercise-number">10.6.6</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>11</b> Data import</a><ul>
<li class="chapter" data-level="11.1" data-path="data-import.html"><a href="data-import.html#introduction-6"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="data-import.html"><a href="data-import.html#getting-started"><i class="fa fa-check"></i><b>11.2</b> Getting started</a><ul>
<li><a href="data-import.html#exercise-11.2.1">Exercise <span class="exercise-number">11.2.1</span></a></li>
<li><a href="data-import.html#exercise-11.2.2">Exercise <span class="exercise-number">11.2.2</span></a></li>
<li><a href="data-import.html#exercise-11.2.3">Exercise <span class="exercise-number">11.2.3</span></a></li>
<li><a href="data-import.html#exercise-11.2.4">Exercise <span class="exercise-number">11.2.4</span></a></li>
<li><a href="data-import.html#exercise-11.2.5">Exercise <span class="exercise-number">11.2.5</span></a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="data-import.html"><a href="data-import.html#parsing-a-vector"><i class="fa fa-check"></i><b>11.3</b> Parsing a vector</a><ul>
<li><a href="data-import.html#exercise-11.3.1">Exercise <span class="exercise-number">11.3.1</span></a></li>
<li><a href="data-import.html#exercise-11.3.2">Exercise <span class="exercise-number">11.3.2</span></a></li>
<li><a href="data-import.html#exercise-11.3.3">Exercise <span class="exercise-number">11.3.3</span></a></li>
<li><a href="data-import.html#exercise-11.3.4">Exercise <span class="exercise-number">11.3.4</span></a></li>
<li><a href="data-import.html#exercise-11.3.5">Exercise <span class="exercise-number">11.3.5</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>12</b> Tidy Data</a><ul>
<li class="chapter" data-level="12.1" data-path="tidy-data.html"><a href="tidy-data.html#introduction-7"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>12.2</b> Tidy data</a><ul>
<li><a href="tidy-data.html#exercise-12.2.1">Exercise <span class="exercise-number">12.2.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.2.2">Exercise <span class="exercise-number">12.2.2</span></a></li>
<li><a href="tidy-data.html#exercise-12.2.3">Exercise <span class="exercise-number">12.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="tidy-data.html"><a href="tidy-data.html#spreading-and-gathering"><i class="fa fa-check"></i><b>12.3</b> Spreading and Gathering</a><ul>
<li><a href="tidy-data.html#exercise-12.3.1">Exercise <span class="exercise-number">12.3.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.3.2">Exercise <span class="exercise-number">12.3.2</span></a></li>
<li><a href="tidy-data.html#exercise-12.3.3">Exercise <span class="exercise-number">12.3.3</span></a></li>
<li><a href="tidy-data.html#exercise-12.3.4">Exercise <span class="exercise-number">12.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="tidy-data.html"><a href="tidy-data.html#separating-and-uniting"><i class="fa fa-check"></i><b>12.4</b> Separating and Uniting</a><ul>
<li><a href="tidy-data.html#exercise-12.4.1">Exercise <span class="exercise-number">12.4.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.4.2">Exercise <span class="exercise-number">12.4.2</span></a></li>
<li><a href="tidy-data.html#exercise-12.4.3">Exercise <span class="exercise-number">12.4.3</span></a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="tidy-data.html"><a href="tidy-data.html#missing-values-1"><i class="fa fa-check"></i><b>12.5</b> Missing Values</a><ul>
<li><a href="tidy-data.html#exercise-12.5.1">Exercise <span class="exercise-number">12.5.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.5.2">Exercise <span class="exercise-number">12.5.2</span></a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="tidy-data.html"><a href="tidy-data.html#case-study"><i class="fa fa-check"></i><b>12.6</b> Case Study</a><ul>
<li><a href="tidy-data.html#exercise-12.6.1">Exercise <span class="exercise-number">12.6.1</span></a></li>
<li><a href="tidy-data.html#exercise-12.6.2">Exercise <span class="exercise-number">12.6.2</span></a></li>
<li><a href="tidy-data.html#exercise-12.6.3">Exercise <span class="exercise-number">12.6.3</span></a></li>
<li><a href="tidy-data.html#exercise-12.6.4">Exercise <span class="exercise-number">12.6.4</span></a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="tidy-data.html"><a href="tidy-data.html#non-tidy-data"><i class="fa fa-check"></i><b>12.7</b> Non-Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>13</b> Relational data</a><ul>
<li class="chapter" data-level="13.1" data-path="relational-data.html"><a href="relational-data.html#introduction-8"><i class="fa fa-check"></i><b>13.1</b> Introduction</a><ul>
<li><a href="relational-data.html#exercise-13.1.1">Exercise <span class="exercise-number">13.1.1</span></a></li>
<li><a href="relational-data.html#exercise-13.1.2">Exercise <span class="exercise-number">13.1.2</span></a></li>
<li><a href="relational-data.html#exercise-13.1.3">Exercise <span class="exercise-number">13.1.3</span></a></li>
<li><a href="relational-data.html#exercise-13.1.4">Exercise <span class="exercise-number">13.1.4</span></a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="relational-data.html"><a href="relational-data.html#keys"><i class="fa fa-check"></i><b>13.2</b> Keys</a><ul>
<li><a href="relational-data.html#exercise-13.2.1">Exercise <span class="exercise-number">13.2.1</span></a></li>
<li><a href="relational-data.html#exercise-13.2.2">Exercise <span class="exercise-number">13.2.2</span></a></li>
<li><a href="relational-data.html#exercise-13.2.3">Exercise <span class="exercise-number">13.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="relational-data.html"><a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>13.3</b> Mutating Joins</a><ul>
<li><a href="relational-data.html#exercise-13.3.1">Exercise <span class="exercise-number">13.3.1</span></a></li>
<li><a href="relational-data.html#exercise-13.3.2">Exercise <span class="exercise-number">13.3.2</span></a></li>
<li><a href="relational-data.html#exercise-13.3.3">Exercise <span class="exercise-number">13.3.3</span></a></li>
<li><a href="relational-data.html#exercise-13.3.4">Exercise <span class="exercise-number">13.3.4</span></a></li>
<li><a href="relational-data.html#exercise-13.3.5">Exercise <span class="exercise-number">13.3.5</span></a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="relational-data.html"><a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>13.4</b> Filtering Joins</a><ul>
<li><a href="relational-data.html#exercise-13.4.1">Exercise <span class="exercise-number">13.4.1</span></a></li>
<li><a href="relational-data.html#exercise-13.4.2">Exercise <span class="exercise-number">13.4.2</span></a></li>
<li><a href="relational-data.html#exercise-13.4.3">Exercise <span class="exercise-number">13.4.3</span></a></li>
<li><a href="relational-data.html#exercise-13.4.4">Exercise <span class="exercise-number">13.4.4</span></a></li>
<li><a href="relational-data.html#exercise-13.4.5">Exercise <span class="exercise-number">13.4.5</span></a></li>
<li><a href="relational-data.html#exercise-13.4.6">Exercise <span class="exercise-number">13.4.6</span></a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="relational-data.html"><a href="relational-data.html#join-problems"><i class="fa fa-check"></i><b>13.5</b> Join problems</a></li>
<li class="chapter" data-level="13.6" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>13.6</b> Set operations</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>14</b> Strings</a><ul>
<li class="chapter" data-level="14.1" data-path="strings.html"><a href="strings.html#introduction-9"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="strings.html"><a href="strings.html#string-basics"><i class="fa fa-check"></i><b>14.2</b> String Basics</a><ul>
<li><a href="strings.html#exercise-14.2.1">Exercise <span class="exercise-number">14.2.1</span></a></li>
<li><a href="strings.html#exercise-14.2.2">Exercise <span class="exercise-number">14.2.2</span></a></li>
<li><a href="strings.html#exercise-14.2.3">Exercise <span class="exercise-number">14.2.3</span></a></li>
<li><a href="strings.html#exercise-14.2.4">Exercise <span class="exercise-number">14.2.4</span></a></li>
<li><a href="strings.html#exercise-14.2.5">Exercise <span class="exercise-number">14.2.5</span></a></li>
<li><a href="strings.html#exercise-14.2.6">Exercise <span class="exercise-number">14.2.6</span></a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="strings.html"><a href="strings.html#matching-patterns-and-regular-expressions"><i class="fa fa-check"></i><b>14.3</b> Matching Patterns and Regular Expressions</a><ul>
<li class="chapter" data-level="14.3.1" data-path="strings.html"><a href="strings.html#basic-matches"><i class="fa fa-check"></i><b>14.3.1</b> Basic Matches</a></li>
<li class="chapter" data-level="14.3.2" data-path="strings.html"><a href="strings.html#anchors"><i class="fa fa-check"></i><b>14.3.2</b> Anchors</a></li>
<li class="chapter" data-level="14.3.3" data-path="strings.html"><a href="strings.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>14.3.3</b> Character classes and alternatives</a></li>
<li class="chapter" data-level="14.3.4" data-path="strings.html"><a href="strings.html#repetition"><i class="fa fa-check"></i><b>14.3.4</b> Repetition</a></li>
<li class="chapter" data-level="14.3.5" data-path="strings.html"><a href="strings.html#grouping-and-backreferences"><i class="fa fa-check"></i><b>14.3.5</b> Grouping and backreferences</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="strings.html"><a href="strings.html#tools"><i class="fa fa-check"></i><b>14.4</b> Tools</a><ul>
<li class="chapter" data-level="14.4.1" data-path="strings.html"><a href="strings.html#detect-matches"><i class="fa fa-check"></i><b>14.4.1</b> Detect matches</a></li>
<li class="chapter" data-level="14.4.2" data-path="strings.html"><a href="strings.html#exercises-1"><i class="fa fa-check"></i><b>14.4.2</b> Exercises</a></li>
<li class="chapter" data-level="14.4.3" data-path="strings.html"><a href="strings.html#extract-matches"><i class="fa fa-check"></i><b>14.4.3</b> Extract Matches</a></li>
<li class="chapter" data-level="14.4.4" data-path="strings.html"><a href="strings.html#grouped-matches"><i class="fa fa-check"></i><b>14.4.4</b> Grouped Matches</a></li>
<li class="chapter" data-level="14.4.5" data-path="strings.html"><a href="strings.html#replacing-matches"><i class="fa fa-check"></i><b>14.4.5</b> Replacing Matches</a></li>
<li class="chapter" data-level="14.4.6" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>14.4.6</b> Splitting</a></li>
<li class="chapter" data-level="14.4.7" data-path="strings.html"><a href="strings.html#find-matches"><i class="fa fa-check"></i><b>14.4.7</b> Find matches</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="strings.html"><a href="strings.html#other-types-of-patterns"><i class="fa fa-check"></i><b>14.5</b> Other types of patterns</a><ul>
<li><a href="strings.html#exercise-14.5.1">Exercise <span class="exercise-number">14.5.1</span></a></li>
<li><a href="strings.html#exercise-14.5.2">Exercise <span class="exercise-number">14.5.2</span></a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="strings.html"><a href="strings.html#other-uses-of-regular-expressions"><i class="fa fa-check"></i><b>14.6</b> Other uses of regular expressions</a></li>
<li class="chapter" data-level="14.7" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>14.7</b> stringi</a><ul>
<li><a href="strings.html#exercise-14.7.1">Exercise <span class="exercise-number">14.7.1</span></a></li>
<li><a href="strings.html#exercise-14.7.2">Exercise <span class="exercise-number">14.7.2</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="factors.html"><a href="factors.html"><i class="fa fa-check"></i><b>15</b> Factors</a><ul>
<li class="chapter" data-level="15.1" data-path="factors.html"><a href="factors.html#introduction-10"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="factors.html"><a href="factors.html#creating-factors"><i class="fa fa-check"></i><b>15.2</b> Creating Factors</a></li>
<li class="chapter" data-level="15.3" data-path="factors.html"><a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>15.3</b> General Social Survey</a><ul>
<li><a href="factors.html#exercise-15.3.1">Exercise <span class="exercise-number">15.3.1</span></a></li>
<li><a href="factors.html#exercise-15.3.2">Exercise <span class="exercise-number">15.3.2</span></a></li>
<li><a href="factors.html#exercise-15.3.3">Exercise <span class="exercise-number">15.3.3</span></a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="factors.html"><a href="factors.html#modifying-factor-order"><i class="fa fa-check"></i><b>15.4</b> Modifying factor order</a><ul>
<li><a href="factors.html#exercise-15.4.1">Exercise <span class="exercise-number">15.4.1</span></a></li>
<li><a href="factors.html#exercise-15.4.2">Exercise <span class="exercise-number">15.4.2</span></a></li>
<li><a href="factors.html#exercise-15.4.3">Exercise <span class="exercise-number">15.4.3</span></a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="factors.html"><a href="factors.html#modifying-factor-levels"><i class="fa fa-check"></i><b>15.5</b> Modifying factor levels</a><ul>
<li><a href="factors.html#exercise-15.5.1">Exercise <span class="exercise-number">15.5.1</span></a></li>
<li><a href="factors.html#exercise-15.5.2">Exercise <span class="exercise-number">15.5.2</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>16</b> Dates and times</a><ul>
<li class="chapter" data-level="16.1" data-path="dates-and-times.html"><a href="dates-and-times.html#introduction-11"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="dates-and-times.html"><a href="dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i><b>16.2</b> Creating date/times</a><ul>
<li><a href="dates-and-times.html#exercise-16.2.1">Exercise <span class="exercise-number">16.2.1</span></a></li>
<li><a href="dates-and-times.html#exercise-16.2.2">Exercise <span class="exercise-number">16.2.2</span></a></li>
<li><a href="dates-and-times.html#exercise-16.2.3">Exercise <span class="exercise-number">16.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="dates-and-times.html"><a href="dates-and-times.html#date-time-components"><i class="fa fa-check"></i><b>16.3</b> Date-Time Components</a><ul>
<li><a href="dates-and-times.html#exercise-16.3.1">Exercise <span class="exercise-number">16.3.1</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.2">Exercise <span class="exercise-number">16.3.2</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.3">Exercise <span class="exercise-number">16.3.3</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.4">Exercise <span class="exercise-number">16.3.4</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.5">Exercise <span class="exercise-number">16.3.5</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.6">Exercise <span class="exercise-number">16.3.6</span></a></li>
<li><a href="dates-and-times.html#exercise-16.3.7">Exercise <span class="exercise-number">16.3.7</span></a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="dates-and-times.html"><a href="dates-and-times.html#time-spans"><i class="fa fa-check"></i><b>16.4</b> Time Spans</a><ul>
<li><a href="dates-and-times.html#exercise-16.4.1">Exercise <span class="exercise-number">16.4.1</span></a></li>
<li><a href="dates-and-times.html#exercise-16.4.2">Exercise <span class="exercise-number">16.4.2</span></a></li>
<li><a href="dates-and-times.html#exercise-16.4.3">Exercise <span class="exercise-number">16.4.3</span></a></li>
<li><a href="dates-and-times.html#exercise-16.4.4">Exercise <span class="exercise-number">16.4.4</span></a></li>
<li><a href="dates-and-times.html#exercise-16.4.5">Exercise <span class="exercise-number">16.4.5</span></a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>16.5</b> Time Zones</a></li>
</ul></li>
<li class="part"><span><b>III Program</b></span></li>
<li class="chapter" data-level="17" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>17</b> Introduction</a></li>
<li class="chapter" data-level="18" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>18</b> Pipes</a></li>
<li class="chapter" data-level="19" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>19</b> Functions</a><ul>
<li class="chapter" data-level="19.1" data-path="functions.html"><a href="functions.html#introduction-12"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="functions.html"><a href="functions.html#when-should-you-write-a-function"><i class="fa fa-check"></i><b>19.2</b> When should you write a function?</a><ul>
<li><a href="functions.html#exercise-19.2.1">Exercise <span class="exercise-number">19.2.1</span></a></li>
<li><a href="functions.html#exercise-19.2.2">Exercise <span class="exercise-number">19.2.2</span></a></li>
<li><a href="functions.html#exercise-19.2.3">Exercise <span class="exercise-number">19.2.3</span></a></li>
<li><a href="functions.html#exercise-19.2.4">Exercise <span class="exercise-number">19.2.4</span></a></li>
<li><a href="functions.html#exercise-19.2.5">Exercise <span class="exercise-number">19.2.5</span></a></li>
<li><a href="functions.html#exercise-19.2.6">Exercise <span class="exercise-number">19.2.6</span></a></li>
<li><a href="functions.html#exercise-19.2.7">Exercise <span class="exercise-number">19.2.7</span></a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="functions.html"><a href="functions.html#functions-are-for-humans-and-computers"><i class="fa fa-check"></i><b>19.3</b> Functions are for humans and computers</a><ul>
<li><a href="functions.html#exercise-19.3.1">Exercise <span class="exercise-number">19.3.1</span></a></li>
<li><a href="functions.html#exercise-19.3.2">Exercise <span class="exercise-number">19.3.2</span></a></li>
<li><a href="functions.html#exercise-19.3.3">Exercise <span class="exercise-number">19.3.3</span></a></li>
<li><a href="functions.html#exercise-19.3.4">Exercise <span class="exercise-number">19.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="functions.html"><a href="functions.html#conditional-execution"><i class="fa fa-check"></i><b>19.4</b> Conditional execution</a><ul>
<li><a href="functions.html#exercise-19.4.1">Exercise <span class="exercise-number">19.4.1</span></a></li>
<li><a href="functions.html#exercise-19.4.2">Exercise <span class="exercise-number">19.4.2</span></a></li>
<li><a href="functions.html#exercise-19.4.3">Exercise <span class="exercise-number">19.4.3</span></a></li>
<li><a href="functions.html#exercise-19.4.4">Exercise <span class="exercise-number">19.4.4</span></a></li>
<li><a href="functions.html#exercise-19.4.5">Exercise <span class="exercise-number">19.4.5</span></a></li>
<li><a href="functions.html#exercise-19.4.6">Exercise <span class="exercise-number">19.4.6</span></a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="functions.html"><a href="functions.html#function-arguments"><i class="fa fa-check"></i><b>19.5</b> Function arguments</a><ul>
<li><a href="functions.html#exercise-19.5.1">Exercise <span class="exercise-number">19.5.1</span></a></li>
<li><a href="functions.html#exercise-19.5.2">Exercise <span class="exercise-number">19.5.2</span></a></li>
<li><a href="functions.html#exercise-19.5.3">Exercise <span class="exercise-number">19.5.3</span></a></li>
<li><a href="functions.html#exercise-19.5.4">Exercise <span class="exercise-number">19.5.4</span></a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="functions.html"><a href="functions.html#return-values"><i class="fa fa-check"></i><b>19.6</b> Return values</a></li>
<li class="chapter" data-level="19.7" data-path="functions.html"><a href="functions.html#environment"><i class="fa fa-check"></i><b>19.7</b> Environment</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>20</b> Vectors</a><ul>
<li class="chapter" data-level="20.1" data-path="vectors.html"><a href="vectors.html#introduction-13"><i class="fa fa-check"></i><b>20.1</b> Introduction</a></li>
<li class="chapter" data-level="20.2" data-path="vectors.html"><a href="vectors.html#vector-basics"><i class="fa fa-check"></i><b>20.2</b> Vector Basics</a></li>
<li class="chapter" data-level="20.3" data-path="vectors.html"><a href="vectors.html#important-types-of-atomic-vector"><i class="fa fa-check"></i><b>20.3</b> Important Types of Atomic Vector</a><ul>
<li><a href="vectors.html#exercise-20.3.1">Exercise <span class="exercise-number">20.3.1</span></a></li>
<li><a href="vectors.html#exercise-20.3.2">Exercise <span class="exercise-number">20.3.2</span></a></li>
<li><a href="vectors.html#exercise-20.3.3">Exercise <span class="exercise-number">20.3.3</span></a></li>
<li><a href="vectors.html#exercise-20.3.4">Exercise <span class="exercise-number">20.3.4</span></a></li>
<li><a href="vectors.html#exercise-20.3.5">Exercise <span class="exercise-number">20.3.5</span></a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="vectors.html"><a href="vectors.html#using-atomic-vectors"><i class="fa fa-check"></i><b>20.4</b> Using atomic vectors</a><ul>
<li><a href="vectors.html#exercise-20.4.1">Exercise <span class="exercise-number">20.4.1</span></a></li>
<li><a href="vectors.html#exercise-20.4.2">Exercise <span class="exercise-number">20.4.2</span></a></li>
<li><a href="vectors.html#exercise-20.4.3">Exercise <span class="exercise-number">20.4.3</span></a></li>
<li><a href="vectors.html#exercise-20.4.4">Exercise <span class="exercise-number">20.4.4</span></a></li>
<li><a href="vectors.html#exercise-20.4.5">Exercise <span class="exercise-number">20.4.5</span></a></li>
<li><a href="vectors.html#exercise-20.4.6">Exercise <span class="exercise-number">20.4.6</span></a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="vectors.html"><a href="vectors.html#recursive-vectors-lists"><i class="fa fa-check"></i><b>20.5</b> Recursive Vectors (lists)</a><ul>
<li><a href="vectors.html#exercise-20.5.1">Exercise <span class="exercise-number">20.5.1</span></a></li>
<li><a href="vectors.html#exercise-20.5.2">Exercise <span class="exercise-number">20.5.2</span></a></li>
</ul></li>
<li class="chapter" data-level="20.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>20.6</b> Attributes</a></li>
<li class="chapter" data-level="20.7" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>20.7</b> Augmented Vectors</a><ul>
<li><a href="vectors.html#exercise-20.7.1">Exercise <span class="exercise-number">20.7.1</span></a></li>
<li><a href="vectors.html#exercise-20.7.2">Exercise <span class="exercise-number">20.7.2</span></a></li>
<li><a href="vectors.html#exercise-20.7.3">Exercise <span class="exercise-number">20.7.3</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>21</b> Iteration</a><ul>
<li class="chapter" data-level="21.1" data-path="iteration.html"><a href="iteration.html#introduction-14"><i class="fa fa-check"></i><b>21.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2" data-path="iteration.html"><a href="iteration.html#for-loops"><i class="fa fa-check"></i><b>21.2</b> For Loops</a><ul>
<li><a href="iteration.html#exercise-21.2.1">Exercise <span class="exercise-number">21.2.1</span></a></li>
<li><a href="iteration.html#exercise-21.2.2">Exercise <span class="exercise-number">21.2.2</span></a></li>
<li><a href="iteration.html#exercise-21.2.3">Exercise <span class="exercise-number">21.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="iteration.html"><a href="iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>21.3</b> For loop variations</a><ul>
<li><a href="iteration.html#exercise-21.3.1">Exercise <span class="exercise-number">21.3.1</span></a></li>
<li><a href="iteration.html#exercise-21.3.2">Exercise <span class="exercise-number">21.3.2</span></a></li>
<li><a href="iteration.html#exercise-21.3.3">Exercise <span class="exercise-number">21.3.3</span></a></li>
<li><a href="iteration.html#exercise-21.3.4">Exercise <span class="exercise-number">21.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="iteration.html"><a href="iteration.html#for-loops-vs.functionals"><i class="fa fa-check"></i><b>21.4</b> For loops vs. functionals</a><ul>
<li><a href="iteration.html#exercise-21.4.1">Exercise <span class="exercise-number">21.4.1</span></a></li>
<li><a href="iteration.html#exercise-21.4.2">Exercise <span class="exercise-number">21.4.2</span></a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="iteration.html"><a href="iteration.html#the-map-functions"><i class="fa fa-check"></i><b>21.5</b> The map functions</a><ul>
<li><a href="iteration.html#exercise-21.5.1">Exercise <span class="exercise-number">21.5.1</span></a></li>
<li><a href="iteration.html#exercise-21.5.2">Exercise <span class="exercise-number">21.5.2</span></a></li>
<li><a href="iteration.html#exercise-21.5.3">Exercise <span class="exercise-number">21.5.3</span></a></li>
<li><a href="iteration.html#exercise-21.5.4">Exercise <span class="exercise-number">21.5.4</span></a></li>
<li><a href="iteration.html#exercise-21.5.5">Exercise <span class="exercise-number">21.5.5</span></a></li>
</ul></li>
<li class="chapter" data-level="21.6" data-path="iteration.html"><a href="iteration.html#dealing-with-failure"><i class="fa fa-check"></i><b>21.6</b> Dealing with Failure</a></li>
<li class="chapter" data-level="21.7" data-path="iteration.html"><a href="iteration.html#mapping-over-multiple-arguments"><i class="fa fa-check"></i><b>21.7</b> Mapping over multiple arguments</a></li>
<li class="chapter" data-level="21.8" data-path="iteration.html"><a href="iteration.html#walk"><i class="fa fa-check"></i><b>21.8</b> Walk</a></li>
<li class="chapter" data-level="21.9" data-path="iteration.html"><a href="iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>21.9</b> Other patterns of for loops</a><ul>
<li><a href="iteration.html#exercise-21.9.1">Exercise <span class="exercise-number">21.9.1</span></a></li>
<li><a href="iteration.html#exercise-21.9.2">Exercise <span class="exercise-number">21.9.2</span></a></li>
<li><a href="iteration.html#exercise-21.9.3">Exercise <span class="exercise-number">21.9.3</span></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Model</b></span></li>
<li class="chapter" data-level="22" data-path="model-intro.html"><a href="model-intro.html"><i class="fa fa-check"></i><b>22</b> Introduction</a></li>
<li class="chapter" data-level="23" data-path="model-basics.html"><a href="model-basics.html"><i class="fa fa-check"></i><b>23</b> Model basics</a><ul>
<li class="chapter" data-level="23.1" data-path="model-basics.html"><a href="model-basics.html#prerequisites-1"><i class="fa fa-check"></i><b>23.1</b> Prerequisites</a></li>
<li class="chapter" data-level="23.2" data-path="model-basics.html"><a href="model-basics.html#a-simple-model"><i class="fa fa-check"></i><b>23.2</b> A simple model</a><ul>
<li><a href="model-basics.html#exercise-23.2.1">Exercise <span class="exercise-number">23.2.1</span></a></li>
<li><a href="model-basics.html#exercise-23.2.2">Exercise <span class="exercise-number">23.2.2</span></a></li>
<li><a href="model-basics.html#exercise-23.2.3">Exercise <span class="exercise-number">23.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="model-basics.html"><a href="model-basics.html#visualizing-models"><i class="fa fa-check"></i><b>23.3</b> Visualizing Models</a><ul>
<li><a href="model-basics.html#exercise-23.3.1">Exercise <span class="exercise-number">23.3.1</span></a></li>
<li><a href="model-basics.html#exercise-23.3.2">Exercise <span class="exercise-number">23.3.2</span></a></li>
<li><a href="model-basics.html#exercise-23.3.3">Exercise <span class="exercise-number">23.3.3</span></a></li>
<li><a href="model-basics.html#exercise-23.3.4">Exercise <span class="exercise-number">23.3.4</span></a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="model-basics.html"><a href="model-basics.html#formulas-and-model-families"><i class="fa fa-check"></i><b>23.4</b> Formulas and Model Families</a><ul>
<li><a href="model-basics.html#exercise-23.4.1">Exercise <span class="exercise-number">23.4.1</span></a></li>
<li><a href="model-basics.html#exercise-23.4.2">Exercise <span class="exercise-number">23.4.2</span></a></li>
<li><a href="model-basics.html#exercise-23.4.3">Exercise <span class="exercise-number">23.4.3</span></a></li>
<li><a href="model-basics.html#exercise-23.4.4">Exercise <span class="exercise-number">23.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="model-basics.html"><a href="model-basics.html#missing-values-2"><i class="fa fa-check"></i><b>23.5</b> Missing values</a></li>
<li class="chapter" data-level="23.6" data-path="model-basics.html"><a href="model-basics.html#other-model-families"><i class="fa fa-check"></i><b>23.6</b> Other model families</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="model-building.html"><a href="model-building.html"><i class="fa fa-check"></i><b>24</b> Model building</a><ul>
<li class="chapter" data-level="24.1" data-path="model-building.html"><a href="model-building.html#introduction-15"><i class="fa fa-check"></i><b>24.1</b> Introduction</a></li>
<li class="chapter" data-level="24.2" data-path="model-building.html"><a href="model-building.html#why-are-low-quality-diamonds-more-expensive"><i class="fa fa-check"></i><b>24.2</b> Why are low quality diamonds more expensive?</a><ul>
<li><a href="model-building.html#exercise-24.2.1">Exercise <span class="exercise-number">24.2.1</span></a></li>
<li><a href="model-building.html#exercise-24.2.2">Exercise <span class="exercise-number">24.2.2</span></a></li>
<li><a href="model-building.html#exercise-24.2.3">Exercise <span class="exercise-number">24.2.3</span></a></li>
<li><a href="model-building.html#exercise-24.2.4">Exercise <span class="exercise-number">24.2.4</span></a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="model-building.html"><a href="model-building.html#what-affects-the-number-of-daily-flights"><i class="fa fa-check"></i><b>24.3</b> What affects the number of daily flights?</a><ul>
<li><a href="model-building.html#exercise-24.3.1">Exercise <span class="exercise-number">24.3.1</span></a></li>
<li><a href="model-building.html#exercise-24.3.2">Exercise <span class="exercise-number">24.3.2</span></a></li>
<li><a href="model-building.html#exercise-24.3.3">Exercise <span class="exercise-number">24.3.3</span></a></li>
<li><a href="model-building.html#exercise-24.3.4">Exercise <span class="exercise-number">24.3.4</span></a></li>
<li><a href="model-building.html#exercise-24.3.5">Exercise <span class="exercise-number">24.3.5</span></a></li>
<li><a href="model-building.html#exercise-24.3.6">Exercise <span class="exercise-number">24.3.6</span></a></li>
<li><a href="model-building.html#exercise-24.3.7">Exercise <span class="exercise-number">24.3.7</span></a></li>
<li><a href="model-building.html#exercise-24.3.8">Exercise <span class="exercise-number">24.3.8</span></a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="model-building.html"><a href="model-building.html#learning-more-about-models"><i class="fa fa-check"></i><b>24.4</b> Learning more about models</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="many-models.html"><a href="many-models.html"><i class="fa fa-check"></i><b>25</b> Many models</a><ul>
<li class="chapter" data-level="25.1" data-path="many-models.html"><a href="many-models.html#introduction-16"><i class="fa fa-check"></i><b>25.1</b> Introduction</a></li>
<li class="chapter" data-level="25.2" data-path="many-models.html"><a href="many-models.html#gapminder"><i class="fa fa-check"></i><b>25.2</b> Gapminder</a><ul>
<li><a href="many-models.html#exercise-25.2.1">Exercise <span class="exercise-number">25.2.1</span></a></li>
<li><a href="many-models.html#exercise-25.2.2">Exercise <span class="exercise-number">25.2.2</span></a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="many-models.html"><a href="many-models.html#list-columns"><i class="fa fa-check"></i><b>25.3</b> List-columns</a></li>
<li class="chapter" data-level="25.4" data-path="many-models.html"><a href="many-models.html#creating-list-columns"><i class="fa fa-check"></i><b>25.4</b> Creating list-columns</a><ul>
<li><a href="many-models.html#exercise-25.4.1">Exercise <span class="exercise-number">25.4.1</span></a></li>
<li><a href="many-models.html#exercise-25.4.2">Exercise <span class="exercise-number">25.4.2</span></a></li>
<li><a href="many-models.html#exercise-25.4.3">Exercise <span class="exercise-number">25.4.3</span></a></li>
<li><a href="many-models.html#exercise-25.4.4">Exercise <span class="exercise-number">25.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="25.5" data-path="many-models.html"><a href="many-models.html#simplifying-list-columns"><i class="fa fa-check"></i><b>25.5</b> Simplifying list-columns</a><ul>
<li><a href="many-models.html#exercise-25.5.1">Exercise <span class="exercise-number">25.5.1</span></a></li>
<li><a href="many-models.html#exercise-25.5.2">Exercise <span class="exercise-number">25.5.2</span></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Communicate</b></span></li>
<li class="chapter" data-level="26" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>26</b> Introduction</a></li>
<li class="chapter" data-level="27" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>27</b> R Markdown</a><ul>
<li class="chapter" data-level="27.1" data-path="r-markdown.html"><a href="r-markdown.html#introduction-17"><i class="fa fa-check"></i><b>27.1</b> Introduction</a></li>
<li class="chapter" data-level="27.2" data-path="r-markdown.html"><a href="r-markdown.html#r-markdown-basics"><i class="fa fa-check"></i><b>27.2</b> R Markdown Basics</a><ul>
<li><a href="r-markdown.html#exercise-27.2.1">Exercise <span class="exercise-number">27.2.1</span></a></li>
<li><a href="r-markdown.html#exercise-27.2.2">Exercise <span class="exercise-number">27.2.2</span></a></li>
<li><a href="r-markdown.html#exercise-27.2.3">Exercise <span class="exercise-number">27.2.3</span></a></li>
<li><a href="r-markdown.html#exercise-27.2.4">Exercise <span class="exercise-number">27.2.4</span></a></li>
</ul></li>
<li class="chapter" data-level="27.3" data-path="r-markdown.html"><a href="r-markdown.html#text-formatting-with-r-markdown"><i class="fa fa-check"></i><b>27.3</b> Text formatting with R Markdown</a><ul>
<li><a href="r-markdown.html#exercise-27.3.1">Exercise <span class="exercise-number">27.3.1</span></a></li>
<li><a href="r-markdown.html#exercise-27.3.2">Exercise <span class="exercise-number">27.3.2</span></a></li>
<li><a href="r-markdown.html#exercise-27.3.3">Exercise <span class="exercise-number">27.3.3</span></a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="r-markdown.html"><a href="r-markdown.html#code-chunks"><i class="fa fa-check"></i><b>27.4</b> Code Chunks</a><ul>
<li><a href="r-markdown.html#exercise-27.4.1">Exercise <span class="exercise-number">27.4.1</span></a></li>
<li><a href="r-markdown.html#exercise-27.4.2">Exercise <span class="exercise-number">27.4.2</span></a></li>
<li><a href="r-markdown.html#exercise-27.4.3">Exercise <span class="exercise-number">27.4.3</span></a></li>
<li><a href="r-markdown.html#exercise-27.4.4">Exercise <span class="exercise-number">27.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="27.5" data-path="r-markdown.html"><a href="r-markdown.html#yaml-header"><i class="fa fa-check"></i><b>27.5</b> YAML header</a></li>
<li class="chapter" data-level="27.6" data-path="r-markdown.html"><a href="r-markdown.html#learning-more-1"><i class="fa fa-check"></i><b>27.6</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>28</b> Graphics for communication</a><ul>
<li class="chapter" data-level="28.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#introduction-18"><i class="fa fa-check"></i><b>28.1</b> Introduction</a></li>
<li class="chapter" data-level="28.2" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>28.2</b> Label</a><ul>
<li><a href="graphics-for-communication.html#exercise-28.2.1">Exercise <span class="exercise-number">28.2.1</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.2.2">Exercise <span class="exercise-number">28.2.2</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.2.3">Exercise <span class="exercise-number">28.2.3</span></a></li>
</ul></li>
<li class="chapter" data-level="28.3" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>28.3</b> Annotations</a><ul>
<li><a href="graphics-for-communication.html#exercise-28.3.1">Exercise <span class="exercise-number">28.3.1</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.3.2">Exercise <span class="exercise-number">28.3.2</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.3.3">Exercise <span class="exercise-number">28.3.3</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.3.4">Exercise <span class="exercise-number">28.3.4</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.3.5">Exercise <span class="exercise-number">28.3.5</span></a></li>
</ul></li>
<li class="chapter" data-level="28.4" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>28.4</b> Scales</a><ul>
<li><a href="graphics-for-communication.html#exercise-28.4.1">Exercise <span class="exercise-number">28.4.1</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.4.2">Exercise <span class="exercise-number">28.4.2</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.4.3">Exercise <span class="exercise-number">28.4.3</span></a></li>
<li><a href="graphics-for-communication.html#exercise-28.4.4">Exercise <span class="exercise-number">28.4.4</span></a></li>
</ul></li>
<li class="chapter" data-level="28.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>28.5</b> Zooming</a></li>
<li class="chapter" data-level="28.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>28.6</b> Themes</a></li>
<li class="chapter" data-level="28.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>28.7</b> Saving your plots</a></li>
<li class="chapter" data-level="28.8" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#learning-more-2"><i class="fa fa-check"></i><b>28.8</b> Learning more</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html"><i class="fa fa-check"></i><b>29</b> R Markdown formats</a></li>
<li class="chapter" data-level="30" data-path="r-markdown-workflow.html"><a href="r-markdown-workflow.html"><i class="fa fa-check"></i><b>30</b> R Markdown workflow</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science Solutions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vectors" class="section level1">
<h1><span class="header-section-number">20</span> Vectors</h1>
<div id="introduction-13" class="section level2">
<h2><span class="header-section-number">20.1</span> Introduction</h2>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb441-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</a></code></pre></div>
</div>
<div id="vector-basics" class="section level2">
<h2><span class="header-section-number">20.2</span> Vector Basics</h2>
<p>No exercises</p>
</div>
<div id="important-types-of-atomic-vector" class="section level2">
<h2><span class="header-section-number">20.3</span> Important Types of Atomic Vector</h2>
<div id="exercise-20.3.1" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.3.1</span></h3>
<div class="question">
<p>Describe the difference between <code>is.finite(x)</code> and <code>!is.infinite(x)</code>.</p>
</div>
<div class="answer">
<p>To find out, try the functions on a numeric vector that includes at least one number and the four special values (<code>NA</code>, <code>NaN</code>, <code>Inf</code>, <code>-Inf</code>).</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb442-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="ot">NA</span>, <span class="ot">NaN</span>, <span class="ot">Inf</span>, <span class="op">-</span><span class="ot">Inf</span>)</a>
<a class="sourceLine" id="cb442-2" data-line-number="2"><span class="kw">is.finite</span>(x)</a>
<a class="sourceLine" id="cb442-3" data-line-number="3"><span class="co">#&gt; [1]  TRUE FALSE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb442-4" data-line-number="4"><span class="op">!</span><span class="kw">is.infinite</span>(x)</a>
<a class="sourceLine" id="cb442-5" data-line-number="5"><span class="co">#&gt; [1]  TRUE  TRUE  TRUE FALSE FALSE</span></a></code></pre></div>
<p>The <code>is.finite()</code> function considers non-missing numeric values to be finite,
and missing (<code>NA</code>), not a number (<code>NaN</code>), and positive (<code>Inf</code>) and negative infinity (<code>-Inf</code>) to not be finite. The <code>is.infinite()</code> behaves slightly differently.
It considers <code>Inf</code> and <code>-Inf</code> to be infinite, and everything else, including non-missing numbers, <code>NA</code>, and <code>NaN</code> to not be infinite. See Table <a href="vectors.html#tab:finite-infinite">20.1</a>.</p>
<table>
<caption><span id="tab:finite-infinite">Table 20.1: </span> Results of <code>is.finite()</code> and <code>is.infinite()</code> for
numeric and special values.</caption>
<thead>
<tr class="header">
<th></th>
<th><code>is.finite()</code></th>
<th><code>is.infinite()</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>1</code></td>
<td><code>TRUE</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="even">
<td><code>NA</code></td>
<td><code>FALSE</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td><code>NaN</code></td>
<td><code>FALSE</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="even">
<td><code>Inf</code></td>
<td><code>FALSE</code></td>
<td><code>TRUE</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="exercise-20.3.2" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.3.2</span></h3>
<div class="question">
<p>Read the source code for <code>dplyr::near()</code> (Hint: to see the source code, drop the <code>()</code>). How does it work?</p>
</div>
<div class="answer">
<p>The source for <code>dplyr::near</code> is:</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb443-1" data-line-number="1">dplyr<span class="op">::</span>near</a>
<a class="sourceLine" id="cb443-2" data-line-number="2"><span class="co">#&gt; function (x, y, tol = .Machine$double.eps^0.5) </span></a>
<a class="sourceLine" id="cb443-3" data-line-number="3"><span class="co">#&gt; {</span></a>
<a class="sourceLine" id="cb443-4" data-line-number="4"><span class="co">#&gt;     abs(x - y) &lt; tol</span></a>
<a class="sourceLine" id="cb443-5" data-line-number="5"><span class="co">#&gt; }</span></a>
<a class="sourceLine" id="cb443-6" data-line-number="6"><span class="co">#&gt; &lt;bytecode: 0x55c37fc01238&gt;</span></a>
<a class="sourceLine" id="cb443-7" data-line-number="7"><span class="co">#&gt; &lt;environment: namespace:dplyr&gt;</span></a></code></pre></div>
<p>Instead of checking for exact equality, it checks that two numbers are within a certain tolerance, <code>tol</code>.
By default the tolerance is set to the square root of <code>.Machine$double.eps</code>, which is the smallest floating point number that the computer can represent.</p>
</div>
</div>
<div id="exercise-20.3.3" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.3.3</span></h3>
<div class="question">
<p>A logical vector can take 3 possible values. How many possible values can an integer vector take? How many possible values can a double take? Use Google to do some research.</p>
</div>
<div class="answer">
<p>For integers vectors, R uses a 32-bit representation. This means that it can represent up to <span class="math inline">\(2^{32}\)</span> different values with integers. One of these values is set aside for <code>NA_integer_</code>.
From the help for <code>integer</code>.</p>
<blockquote>
<p>Note that current implementations of R use 32-bit integers for integer vectors,
so the range of representable integers is restricted to about +/-2*10^9: doubles
can hold much larger integers exactly.</p>
</blockquote>
<p>The range of integers values that R can represent in an integer vector is <span class="math inline">\(\pm 2^{31} - 1\)</span>,</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb444-1" data-line-number="1">.Machine<span class="op">$</span>integer.max</a>
<a class="sourceLine" id="cb444-2" data-line-number="2"><span class="co">#&gt; [1] 2147483647</span></a></code></pre></div>
<p>The maximum integer is <span class="math inline">\(2^{31} - 1\)</span> rather than <span class="math inline">\(2^{32}\)</span> because 1 bit is used to
represent the sign (<span class="math inline">\(+\)</span>, <span class="math inline">\(-\)</span>) and one value is used to represent <code>NA_integer_</code>.</p>
<p>If you try to represent an integer greater than that value, R will return <code>NA</code> values.</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb445-1" data-line-number="1">.Machine<span class="op">$</span>integer.max <span class="op">+</span><span class="st"> </span>1L</a>
<a class="sourceLine" id="cb445-2" data-line-number="2"><span class="co">#&gt; Warning in .Machine$integer.max + 1L: NAs produced by integer overflow</span></a>
<a class="sourceLine" id="cb445-3" data-line-number="3"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>However, you can represent that value (exactly) with a numeric vector at the cost of
about two times the memory.</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb446-1" data-line-number="1"><span class="kw">as.numeric</span>(.Machine<span class="op">$</span>integer.max) <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb446-2" data-line-number="2"><span class="co">#&gt; [1] 2.15e+09</span></a></code></pre></div>
<p>The same is true for the negative of the integer max.</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb447-1" data-line-number="1"><span class="op">-</span>.Machine<span class="op">$</span>integer.max <span class="op">-</span><span class="st"> </span>1L</a>
<a class="sourceLine" id="cb447-2" data-line-number="2"><span class="co">#&gt; Warning in -.Machine$integer.max - 1L: NAs produced by integer overflow</span></a>
<a class="sourceLine" id="cb447-3" data-line-number="3"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>For double vectors, R uses a 64-bit representation. This means that they can hold up
to <span class="math inline">\(2^{64}\)</span> values exactly. However, some of those values are allocated to special values
such as <code>-Inf</code>, <code>Inf</code>, <code>NA_real_</code>, and <code>NaN</code>. From the help for <code>double</code>:</p>
<blockquote>
<p>All R platforms are required to work with values conforming to the IEC 60559
(also known as IEEE 754) standard. This basically works with a precision of
53 bits, and represents to that precision a range of absolute values from
about 2e-308 to 2e+308. It also has special values <code>NaN</code> (many of them),
plus and minus infinity
and plus and minus zero (although R acts as if these are the same). There are
also denormal(ized) (or subnormal) numbers with absolute values above or below
the range given above but represented to less precision.</p>
</blockquote>
<p>The details of floating point representation and arithmetic are complicated, beyond
the scope of this question, and better discussed in the references provided below.
The double can represent numbers in the range of about <span class="math inline">\(\pm 2 \times 10^{308}\)</span>, which is
provided in</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb448-1" data-line-number="1">.Machine<span class="op">$</span>double.xmax</a>
<a class="sourceLine" id="cb448-2" data-line-number="2"><span class="co">#&gt; [1] 1.8e+308</span></a></code></pre></div>
<p>Many other details for the implementation of the double vectors are given in the <code>.Machine</code> variable (and its documentation).
These include the base (radix) of doubles,</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb449-1" data-line-number="1">.Machine<span class="op">$</span>double.base</a>
<a class="sourceLine" id="cb449-2" data-line-number="2"><span class="co">#&gt; [1] 2</span></a></code></pre></div>
<p>the number of bits used for the significand (mantissa),</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb450-1" data-line-number="1">.Machine<span class="op">$</span>double.digits</a>
<a class="sourceLine" id="cb450-2" data-line-number="2"><span class="co">#&gt; [1] 53</span></a></code></pre></div>
<p>the number of bits used in the exponent,</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb451-1" data-line-number="1">.Machine<span class="op">$</span>double.exponent</a>
<a class="sourceLine" id="cb451-2" data-line-number="2"><span class="co">#&gt; [1] 11</span></a></code></pre></div>
<p>and the smallest positive and negative numbers not equal to zero,</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb452-1" data-line-number="1">.Machine<span class="op">$</span>double.eps</a>
<a class="sourceLine" id="cb452-2" data-line-number="2"><span class="co">#&gt; [1] 2.22e-16</span></a>
<a class="sourceLine" id="cb452-3" data-line-number="3">.Machine<span class="op">$</span>double.neg.eps</a>
<a class="sourceLine" id="cb452-4" data-line-number="4"><span class="co">#&gt; [1] 1.11e-16</span></a></code></pre></div>
<ul>
<li>Computerphile, “<a href="https://www.youtube.com/watch?v=PZRI1IfStY0">Floating Point Numbers</a>”</li>
<li><a href="https://en.wikipedia.org/wiki/IEEE_754" class="uri">https://en.wikipedia.org/wiki/IEEE_754</a></li>
<li><a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format" class="uri">https://en.wikipedia.org/wiki/Double-precision_floating-point_format</a></li>
<li>“<a href="https://floating-point-gui.de/formats/fp/">Floating Point Numbers: Why floating-point numbers are needed</a>”</li>
<li>Fabien Sanglard, “<a href="http://fabiensanglard.net/floating_point_visually_explained/">Floating Point Numbers: Visually Explained</a>”</li>
<li>James Howard, “<a href="https://jameshoward.us/2015/09/09/how-many-floating-point-numbers-are-there/">How Many Floating Point Numbers are There?</a>”</li>
<li>GeeksforGeeks, “<a href="https://www.geeksforgeeks.org/floating-point-representation-basics/">Floating Point Representation Basics</a>”</li>
<li>Chris Hecker, “<a href="http://chrishecker.com/images/f/fb/Gdmfp.pdf">Lets Go to the (Floating) Point</a>”, <em>Game Developer</em></li>
<li>Chua Hock-Chuan, <a href="http://www.ntu.edu.sg/home/ehchua/programming/java/datarepresentation.html">A Tutorial on Data Representation Integers, Floating-point Numbers, and Characters</a></li>
<li>John D. Cook, “<a href="https://www.johndcook.com/blog/2009/04/06/anatomy-of-a-floating-point-number/">Anatomy of a floating point number</a>”</li>
<li>John D. Cook, “<a href="https://www.codeproject.com/Articles/29637/Five-Tips-for-Floating-Point-Programming">Five Tips for Floating Point Programming</a>”</li>
</ul>
</div>
</div>
<div id="exercise-20.3.4" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.3.4</span></h3>
<div class="question">
<p>Brainstorm at least four functions that allow you to convert a double to an integer. How do they differ? Be precise.</p>
</div>
<div class="answer">
<p>Broadly, could convert a double to an integer by truncating or rounding to the nearest integer.
For truncating or for handling ties (doubles ending in 0.5), there are multiple methods for determining which integer value to go to.</p>
<table>
<thead>
<tr class="header">
<th>methods</th>
<th>0.5</th>
<th>-0.5</th>
<th>1.5</th>
<th>-1.5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>towards zero:</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>away from zero</td>
<td>1</td>
<td>-1</td>
<td>2</td>
<td>-2</td>
</tr>
<tr class="odd">
<td>largest towards <span class="math inline">\(+\infty\)</span>)</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>-1</td>
</tr>
<tr class="even">
<td>smallest (towards <span class="math inline">\(-\infty\)</span>)</td>
<td>0</td>
<td>-1</td>
<td>1</td>
<td>-2</td>
</tr>
<tr class="odd">
<td>even</td>
<td>0</td>
<td>0</td>
<td>2</td>
<td>-2</td>
</tr>
<tr class="even">
<td>odd</td>
<td>1</td>
<td>-1</td>
<td>1</td>
<td>-1</td>
</tr>
</tbody>
</table>
<p>See the Wikipedia article <a href="https://en.wikipedia.org/wiki/IEEE_floating_point">IEEE floating point</a> for rounding rules.</p>
<p>For rounding, R and many programming languages use the IEEE standard. This is “round to nearest, ties to even”.
This is not the same as what you
See the value of looking at the value of <code>.Machine$double.rounding</code> and its documentation.</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb453-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>, <span class="dt">by =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb453-2" data-line-number="2"></a>
<a class="sourceLine" id="cb453-3" data-line-number="3">round2 &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">to_even =</span> <span class="ot">TRUE</span>) {</a>
<a class="sourceLine" id="cb453-4" data-line-number="4">  q &lt;-<span class="st"> </span>x <span class="op">%/%</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb453-5" data-line-number="5">  r &lt;-<span class="st"> </span>x <span class="op">%%</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb453-6" data-line-number="6">  q <span class="op">+</span><span class="st"> </span>(r <span class="op">&gt;=</span><span class="st"> </span><span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb453-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb453-8" data-line-number="8">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="fl">12.5</span>, <span class="fl">-11.5</span>, <span class="fl">11.5</span>, <span class="fl">12.5</span>)</a>
<a class="sourceLine" id="cb453-9" data-line-number="9"><span class="kw">round</span>(x)</a>
<a class="sourceLine" id="cb453-10" data-line-number="10"><span class="co">#&gt; [1] -12 -12  12  12</span></a>
<a class="sourceLine" id="cb453-11" data-line-number="11"><span class="kw">round2</span>(x, <span class="dt">to_even =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb453-12" data-line-number="12"><span class="co">#&gt; [1] -12 -11  12  13</span></a></code></pre></div>
<p>The problem with the always rounding 0.5 up rule is that it is biased upwards. Rounding to nearest with ties towards even is
not.
Consider the sequence <span class="math inline">\(-100.5, -99.5, \dots, 0, \dots, 99.5, 100.5\)</span>.
Its sum is 0.
It would be nice if rounding preserved that sum.
Using the “ties towards even”, the sum is still zero.
However, the “ties towards <span class="math inline">\(+\infty\)</span>” produces a non-zero number.</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb454-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="fl">100.5</span>, <span class="fl">100.5</span>, <span class="dt">by =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb454-2" data-line-number="2"><span class="kw">sum</span>(x)</a>
<a class="sourceLine" id="cb454-3" data-line-number="3"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb454-4" data-line-number="4"><span class="kw">sum</span>(<span class="kw">round</span>(x))</a>
<a class="sourceLine" id="cb454-5" data-line-number="5"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb454-6" data-line-number="6"><span class="kw">sum</span>(<span class="kw">round2</span>(x))</a>
<a class="sourceLine" id="cb454-7" data-line-number="7"><span class="co">#&gt; [1] 101</span></a></code></pre></div>
<p>Here’s a real-world non-engineering example of rounding going terribly wrong.
In 1983, the Vancouver stock exchange adjusted its index from 524.811 to 1098.892 to correct for accumulated error due to rounding to three decimal points (see <a href="https://en.wikipedia.org/wiki/Vancouver_Stock_Exchange">Vancouver Stock Exchange</a>).</p>
<p>Here’s a <a href="https://www.ma.utexas.edu/users/arbogast/misc/disasters.html">list</a> of a few more.</p>
</div>
</div>
<div id="exercise-20.3.5" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.3.5</span></h3>
<div class="question">
<p>What functions from the <strong>readr</strong> package allow you to turn a string into logical, integer, and double vector?</p>
</div>
<div class="answer">
<p>The function <code>parse_logical()</code> parses logical values, which can appear
as variations of TRUE/FALSE or 1/0.</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb455-1" data-line-number="1"><span class="kw">parse_logical</span>(<span class="kw">c</span>(<span class="st">&quot;TRUE&quot;</span>, <span class="st">&quot;FALSE&quot;</span>, <span class="st">&quot;1&quot;</span>, <span class="st">&quot;0&quot;</span>, <span class="st">&quot;true&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="st">&quot;NA&quot;</span>))</a>
<a class="sourceLine" id="cb455-2" data-line-number="2"><span class="co">#&gt; [1]  TRUE FALSE  TRUE FALSE  TRUE  TRUE    NA</span></a></code></pre></div>
<p>The function <code>parse_integer()</code> parses integer values.</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb456-1" data-line-number="1"><span class="kw">parse_integer</span>(<span class="kw">c</span>(<span class="st">&quot;1235&quot;</span>, <span class="st">&quot;0134&quot;</span>, <span class="st">&quot;NA&quot;</span>))</a>
<a class="sourceLine" id="cb456-2" data-line-number="2"><span class="co">#&gt; [1] 1235  134   NA</span></a></code></pre></div>
<p>However, if there are any non-numeric characters in the string, including
currency symbols, commas, and decimals, <code>parse_integer()</code> will raise an error.</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb457-1" data-line-number="1"><span class="kw">parse_integer</span>(<span class="kw">c</span>(<span class="st">&quot;1000&quot;</span>, <span class="st">&quot;$1,000&quot;</span>, <span class="st">&quot;10.00&quot;</span>))</a>
<a class="sourceLine" id="cb457-2" data-line-number="2"><span class="co">#&gt; Warning in rbind(names(probs), probs_f): number of columns of result is not</span></a>
<a class="sourceLine" id="cb457-3" data-line-number="3"><span class="co">#&gt; a multiple of vector length (arg 1)</span></a>
<a class="sourceLine" id="cb457-4" data-line-number="4"><span class="co">#&gt; Warning: 2 parsing failures.</span></a>
<a class="sourceLine" id="cb457-5" data-line-number="5"><span class="co">#&gt; row # A tibble: 2 x 4 col     row   col expected               actual expected   &lt;int&gt; &lt;int&gt; &lt;chr&gt;                  &lt;chr&gt;  actual 1     2    NA an integer             $1,000 row 2     3    NA no trailing characters .00</span></a>
<a class="sourceLine" id="cb457-6" data-line-number="6"><span class="co">#&gt; [1] 1000   NA   NA</span></a>
<a class="sourceLine" id="cb457-7" data-line-number="7"><span class="co">#&gt; attr(,&quot;problems&quot;)</span></a>
<a class="sourceLine" id="cb457-8" data-line-number="8"><span class="co">#&gt; # A tibble: 2 x 4</span></a>
<a class="sourceLine" id="cb457-9" data-line-number="9"><span class="co">#&gt;     row   col expected               actual</span></a>
<a class="sourceLine" id="cb457-10" data-line-number="10"><span class="co">#&gt;   &lt;int&gt; &lt;int&gt; &lt;chr&gt;                  &lt;chr&gt; </span></a>
<a class="sourceLine" id="cb457-11" data-line-number="11"><span class="co">#&gt; 1     2    NA an integer             $1,000</span></a>
<a class="sourceLine" id="cb457-12" data-line-number="12"><span class="co">#&gt; 2     3    NA no trailing characters .00</span></a></code></pre></div>
<p>The function <code>parse_number()</code> parses integer values.</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb458-1" data-line-number="1"><span class="kw">parse_number</span>(<span class="kw">c</span>(<span class="st">&quot;1.0&quot;</span>, <span class="st">&quot;3.5&quot;</span>, <span class="st">&quot;$1,000.00&quot;</span>, <span class="st">&quot;NA&quot;</span>))</a>
<a class="sourceLine" id="cb458-2" data-line-number="2"><span class="co">#&gt; [1]    1.0    3.5 1000.0     NA</span></a></code></pre></div>
<p>Unlike <code>parse_integer()</code>, the function <code>parse_number()</code> is very forgiving about the format of the numbers.
It ignores all non-numeric characters, as with <code>&quot;$1,000.00&quot;</code> in the example.
This allows it to easily parse numeric fields that include currency symbols and comma separators in number strings without any intervention by the user.</p>
</div>
</div>
</div>
<div id="using-atomic-vectors" class="section level2">
<h2><span class="header-section-number">20.4</span> Using atomic vectors</h2>
<div id="exercise-20.4.1" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.4.1</span></h3>
<div class="question">
<p>What does <code>mean(is.na(x))</code> tell you about a vector <code>x</code>? What about <code>sum(!is.finite(x))</code>?</p>
</div>
<div class="answer">
<p>The expression <code>mean(is.na(x))</code> calculates the proportion of missing values in a vector</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb459-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="ot">NA</span>, <span class="ot">NaN</span>, <span class="ot">Inf</span>, <span class="op">-</span><span class="ot">Inf</span>)</a>
<a class="sourceLine" id="cb459-2" data-line-number="2"><span class="kw">mean</span>(<span class="kw">is.na</span>(x))</a>
<a class="sourceLine" id="cb459-3" data-line-number="3"><span class="co">#&gt; [1] 0.143</span></a></code></pre></div>
<p>The expression <code>mean(!is.finite(x))</code> calculates the proportion of values that are <code>NA</code>, <code>NaN</code>, or infinite.</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb460-1" data-line-number="1"><span class="kw">mean</span>(<span class="op">!</span><span class="kw">is.finite</span>(x))</a>
<a class="sourceLine" id="cb460-2" data-line-number="2"><span class="co">#&gt; [1] 0.286</span></a></code></pre></div>
</div>
</div>
<div id="exercise-20.4.2" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.4.2</span></h3>
<div class="question">
<p>Carefully read the documentation of <code>is.vector()</code>. What does it actually test for? Why does <code>is.atomic()</code> not agree with the definition of atomic vectors above?</p>
</div>
<div class="answer">
<p>The function <code>is.vector()</code> only checks whether the object has no attributes other than names. Thus a <code>list</code> is a vector:</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb461-1" data-line-number="1"><span class="kw">is.vector</span>(<span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb461-2" data-line-number="2"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<p>But any object that has an attribute (other than names) is not:</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb462-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb462-2" data-line-number="2"><span class="kw">attr</span>(x, <span class="st">&quot;something&quot;</span>) &lt;-<span class="st"> </span><span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb462-3" data-line-number="3"><span class="kw">is.vector</span>(x)</a>
<a class="sourceLine" id="cb462-4" data-line-number="4"><span class="co">#&gt; [1] FALSE</span></a></code></pre></div>
<p>The idea behind this is that object oriented classes will include attributes, including, but not limited to <code>&quot;class&quot;</code>.</p>
<p>The function <code>is.atomic()</code> explicitly checks whether an object is one of the atomic types (“logical”, “integer”, “numeric”, “complex”, “character”, and “raw”) or NULL.</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb463-1" data-line-number="1"><span class="kw">is.atomic</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb463-2" data-line-number="2"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb463-3" data-line-number="3"><span class="kw">is.atomic</span>(<span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb463-4" data-line-number="4"><span class="co">#&gt; [1] FALSE</span></a></code></pre></div>
<p>The function <code>is.atomic()</code> will consider objects to be atomic even if they have extra attributes.</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb464-1" data-line-number="1"><span class="kw">is.atomic</span>(x)</a>
<a class="sourceLine" id="cb464-2" data-line-number="2"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
</div>
</div>
<div id="exercise-20.4.3" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.4.3</span></h3>
<div class="question">
<p>Compare and contrast <code>setNames()</code> with <code>purrr::set_names()</code>.</p>
</div>
<div class="answer">
<p>The function <code>setNames()</code> takes two arguments, a vector to be named and a vector
of names to apply to its elements.</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb465-1" data-line-number="1"><span class="kw">setNames</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>))</a>
<a class="sourceLine" id="cb465-2" data-line-number="2"><span class="co">#&gt; a b c d </span></a>
<a class="sourceLine" id="cb465-3" data-line-number="3"><span class="co">#&gt; 1 2 3 4</span></a></code></pre></div>
<p>You can name an vector with itself if the <code>nm</code> argument is used.</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb466-1" data-line-number="1"><span class="kw">setNames</span>(<span class="dt">nm =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>))</a>
<a class="sourceLine" id="cb466-2" data-line-number="2"><span class="co">#&gt;   a   b   c   d </span></a>
<a class="sourceLine" id="cb466-3" data-line-number="3"><span class="co">#&gt; &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</span></a></code></pre></div>
<p>The function <code>set_names()</code> has more ways to set the names than <code>setNames()</code>.
The names can be specified in the same manner as <code>setNames()</code>.</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb467-1" data-line-number="1">purrr<span class="op">::</span><span class="kw">set_names</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>))</a>
<a class="sourceLine" id="cb467-2" data-line-number="2"><span class="co">#&gt; a b c d </span></a>
<a class="sourceLine" id="cb467-3" data-line-number="3"><span class="co">#&gt; 1 2 3 4</span></a></code></pre></div>
<p>The names can also be specified as unnamed arguments,</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb468-1" data-line-number="1">purrr<span class="op">::</span><span class="kw">set_names</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</a>
<a class="sourceLine" id="cb468-2" data-line-number="2"><span class="co">#&gt; a b c d </span></a>
<a class="sourceLine" id="cb468-3" data-line-number="3"><span class="co">#&gt; 1 2 3 4</span></a></code></pre></div>
<p>The function <code>set_names()</code> will name an object with itself if no <code>nm</code> argument is
provided (the opposite of <code>setNames()</code> behavior).</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb469-1" data-line-number="1">purrr<span class="op">::</span><span class="kw">set_names</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>))</a>
<a class="sourceLine" id="cb469-2" data-line-number="2"><span class="co">#&gt;   a   b   c   d </span></a>
<a class="sourceLine" id="cb469-3" data-line-number="3"><span class="co">#&gt; &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</span></a></code></pre></div>
<p>The biggest difference between <code>set_names()</code> and <code>setNames()</code> is that <code>set_names()</code> allows for using a function or formula to transform the existing names.</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb470-1" data-line-number="1">purrr<span class="op">::</span><span class="kw">set_names</span>(<span class="kw">c</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">2</span>, <span class="dt">c =</span> <span class="dv">3</span>), toupper)</a>
<a class="sourceLine" id="cb470-2" data-line-number="2"><span class="co">#&gt; A B C </span></a>
<a class="sourceLine" id="cb470-3" data-line-number="3"><span class="co">#&gt; 1 2 3</span></a>
<a class="sourceLine" id="cb470-4" data-line-number="4">purrr<span class="op">::</span><span class="kw">set_names</span>(<span class="kw">c</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">2</span>, <span class="dt">c =</span> <span class="dv">3</span>), <span class="op">~</span><span class="st"> </span><span class="kw">toupper</span>(.))</a>
<a class="sourceLine" id="cb470-5" data-line-number="5"><span class="co">#&gt; A B C </span></a>
<a class="sourceLine" id="cb470-6" data-line-number="6"><span class="co">#&gt; 1 2 3</span></a></code></pre></div>
<p>The <code>set_names()</code> function also checks that the length of the names argument is the
same length as the vector that is being named, and will raise an error if it is not.</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb471-1" data-line-number="1">purrr<span class="op">::</span><span class="kw">set_names</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>))</a>
<a class="sourceLine" id="cb471-2" data-line-number="2"><span class="co">#&gt; Error: `nm` must be `NULL` or a character vector the same length as `x`</span></a></code></pre></div>
<p>The <code>setNames()</code> function will allow the names to be shorter than the vector being
named, and will set the missing names to <code>NA</code>.</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb472-1" data-line-number="1"><span class="kw">setNames</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>))</a>
<a class="sourceLine" id="cb472-2" data-line-number="2"><span class="co">#&gt;    a    b &lt;NA&gt; &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb472-3" data-line-number="3"><span class="co">#&gt;    1    2    3    4</span></a></code></pre></div>
</div>
</div>
<div id="exercise-20.4.4" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.4.4</span></h3>
<div class="question">
<p>Create functions that take a vector as input and returns:</p>
<ol style="list-style-type: decimal">
<li>The last value. Should you use <code>[</code> or <code>[[</code>?</li>
<li>The elements at even numbered positions.</li>
<li>Every element except the last value.</li>
<li>Only even numbers (and no missing values).</li>
</ol>
</div>
<div class="answer">
<p>The answers to the parts follow.</p>
<ol style="list-style-type: decimal">
<li><p>This function find the last value in a vector.</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb473-1" data-line-number="1">last_value &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb473-2" data-line-number="2">  <span class="co"># check for case with no length</span></a>
<a class="sourceLine" id="cb473-3" data-line-number="3">  <span class="cf">if</span> (<span class="kw">length</span>(x)) {</a>
<a class="sourceLine" id="cb473-4" data-line-number="4">    x[[<span class="kw">length</span>(x)]]  </a>
<a class="sourceLine" id="cb473-5" data-line-number="5">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb473-6" data-line-number="6">    x</a>
<a class="sourceLine" id="cb473-7" data-line-number="7">  }</a>
<a class="sourceLine" id="cb473-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb473-9" data-line-number="9"><span class="kw">last_value</span>(<span class="kw">numeric</span>())</a>
<a class="sourceLine" id="cb473-10" data-line-number="10"><span class="co">#&gt; numeric(0)</span></a>
<a class="sourceLine" id="cb473-11" data-line-number="11"><span class="kw">last_value</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb473-12" data-line-number="12"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb473-13" data-line-number="13"><span class="kw">last_value</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb473-14" data-line-number="14"><span class="co">#&gt; [1] 10</span></a></code></pre></div>
<p>The function uses <code>[[</code> in order to extract a single element.</p></li>
<li><p>This function returns the elements at even number positions.</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb474-1" data-line-number="1">even_indices &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb474-2" data-line-number="2">  <span class="cf">if</span> (<span class="kw">length</span>(x)) {</a>
<a class="sourceLine" id="cb474-3" data-line-number="3">    x[<span class="kw">seq_along</span>(x) <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>]</a>
<a class="sourceLine" id="cb474-4" data-line-number="4">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb474-5" data-line-number="5">    x</a>
<a class="sourceLine" id="cb474-6" data-line-number="6">  }  </a>
<a class="sourceLine" id="cb474-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb474-8" data-line-number="8"><span class="kw">even_indices</span>(<span class="kw">numeric</span>())</a>
<a class="sourceLine" id="cb474-9" data-line-number="9"><span class="co">#&gt; numeric(0)</span></a>
<a class="sourceLine" id="cb474-10" data-line-number="10"><span class="kw">even_indices</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb474-11" data-line-number="11"><span class="co">#&gt; numeric(0)</span></a>
<a class="sourceLine" id="cb474-12" data-line-number="12"><span class="kw">even_indices</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb474-13" data-line-number="13"><span class="co">#&gt; [1]  2  4  6  8 10</span></a>
<a class="sourceLine" id="cb474-14" data-line-number="14"><span class="co"># test using case to ensure that values not indices</span></a>
<a class="sourceLine" id="cb474-15" data-line-number="15"><span class="co"># are being returned</span></a>
<a class="sourceLine" id="cb474-16" data-line-number="16"><span class="kw">even_indices</span>(letters)</a>
<a class="sourceLine" id="cb474-17" data-line-number="17"><span class="co">#&gt;  [1] &quot;b&quot; &quot;d&quot; &quot;f&quot; &quot;h&quot; &quot;j&quot; &quot;l&quot; &quot;n&quot; &quot;p&quot; &quot;r&quot; &quot;t&quot; &quot;v&quot; &quot;x&quot; &quot;z&quot;</span></a></code></pre></div></li>
<li><p>This function returns a vector with every element except the last.</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb475-1" data-line-number="1">not_last &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb475-2" data-line-number="2">  n &lt;-<span class="st"> </span><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb475-3" data-line-number="3">  <span class="cf">if</span> (n) {</a>
<a class="sourceLine" id="cb475-4" data-line-number="4">    x[<span class="op">-</span>n]</a>
<a class="sourceLine" id="cb475-5" data-line-number="5">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb475-6" data-line-number="6">    <span class="co"># n == 0</span></a>
<a class="sourceLine" id="cb475-7" data-line-number="7">    x</a>
<a class="sourceLine" id="cb475-8" data-line-number="8">  }</a>
<a class="sourceLine" id="cb475-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb475-10" data-line-number="10"><span class="kw">not_last</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb475-11" data-line-number="11"><span class="co">#&gt; [1] 1 2</span></a></code></pre></div>
<p>We should also confirm that the function works with some edge cases, like
a vector with one element, and a vector with zero elements.</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb476-1" data-line-number="1"><span class="kw">not_last</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb476-2" data-line-number="2"><span class="co">#&gt; numeric(0)</span></a>
<a class="sourceLine" id="cb476-3" data-line-number="3"><span class="kw">not_last</span>(<span class="kw">numeric</span>())</a>
<a class="sourceLine" id="cb476-4" data-line-number="4"><span class="co">#&gt; numeric(0)</span></a></code></pre></div>
<p>In both these cases, <code>not_last()</code> correctly returns an empty vector.</p></li>
<li><p>This function returns a the elements of a vector that are even numbers.</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb477-1" data-line-number="1">even_numbers &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb477-2" data-line-number="2">  x[x <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>]</a>
<a class="sourceLine" id="cb477-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb477-4" data-line-number="4"><span class="kw">even_numbers</span>(<span class="op">-</span><span class="dv">10</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb477-5" data-line-number="5"><span class="co">#&gt;  [1] -10  -8  -6  -4  -2   0   2   4   6   8  10</span></a></code></pre></div>
<p>We could improve this function by handling the cases of the special values:
<code>NA</code>, <code>NaN</code>, <code>Inf</code>. However, first we need to decide how to handle them.
Neither <code>NaN</code> nor <code>Inf</code> are considered even numbers. What about <code>NA</code>?
Well, we don’t know. The value of <code>NA</code> could be even or odd, but it is missing.
So we will follow the convention of many R functions and keep the <code>NA</code> values.
The revised function now handles these cases.</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb478-1" data-line-number="1">even_numbers &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb478-2" data-line-number="2">  x[<span class="op">!</span><span class="kw">is.infinite</span>(x) <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.nan</span>(x) <span class="op">&amp;</span><span class="st"> </span>(x <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>)]</a>
<a class="sourceLine" id="cb478-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb478-4" data-line-number="4"><span class="kw">even_numbers</span>(<span class="kw">c</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">4</span>, <span class="ot">NA</span>, <span class="ot">NaN</span>, <span class="ot">Inf</span>))</a>
<a class="sourceLine" id="cb478-5" data-line-number="5"><span class="co">#&gt; [1]  0  2  4 NA</span></a></code></pre></div></li>
</ol>
</div>
</div>
<div id="exercise-20.4.5" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.4.5</span></h3>
<div class="question">
<p>Why is <code>x[-which(x &gt; 0)]</code> not the same as <code>x[x &lt;= 0]</code>?</p>
</div>
<div class="answer">
<p>These expressions differ in the way that they treat missing values.
Let’s test how they work by creating a vector with positive and negative integers,
and special values (<code>NA</code>, <code>NaN</code>, and <code>Inf</code>). These values should encompass
all relevant types of values that these expressions would encounter.</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb479-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span><span class="op">:</span><span class="dv">1</span>, <span class="ot">Inf</span>, <span class="op">-</span><span class="ot">Inf</span>, <span class="ot">NaN</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb479-2" data-line-number="2">x[<span class="op">-</span><span class="kw">which</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)]</a>
<a class="sourceLine" id="cb479-3" data-line-number="3"><span class="co">#&gt; [1]   -1    0 -Inf  NaN   NA</span></a>
<a class="sourceLine" id="cb479-4" data-line-number="4">x[x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span>]</a>
<a class="sourceLine" id="cb479-5" data-line-number="5"><span class="co">#&gt; [1]   -1    0 -Inf   NA   NA</span></a></code></pre></div>
<p>The expressions <code>x[-which(x &gt; 0)]</code> and <code>x[x &lt;= 0]</code> return the same values except
for a <code>NaN</code> instead of a <code>NA</code> in the <code>which()</code> based expression.</p>
<p>So what is going on here? Let’s work through each part of these expressions and
see where the different occurs.
Let’s start with the expression <code>x[x &lt;= 0]</code>.</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb480-1" data-line-number="1">x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb480-2" data-line-number="2"><span class="co">#&gt; [1]  TRUE  TRUE FALSE FALSE  TRUE    NA    NA</span></a></code></pre></div>
<p>Recall how the logical relational operators (<code>&lt;</code>, <code>&lt;=</code>, <code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&gt;=</code>) treat <code>NA</code> values.
Any relational operation that includes a <code>NA</code> returns an <code>NA</code>.
Is <code>NA &lt;= 0</code>? We don’t know because it depends on the unknown value of <code>NA</code>, so the answer is <code>NA</code>.
This same argument applies to <code>NaN</code>. Asking whether <code>NaN &lt;= 0</code> does not make sense because you can’t compare a number to “Not a Number”.</p>
<p>Now recall how indexing treats <code>NA</code> values.
Indexing can use a logical vector, and will include those elements where the logical vector is <code>TRUE</code>,
and will not not return those elements where the logical vector is <code>FALSE</code>.
Since a logical vector can include <code>NA</code> values, what should it do for them?
Well, since the value is <code>NA</code> it could be <code>TRUE</code> or <code>FALSE</code>, we don’t know.
Keeping elements with <code>NA</code> would treat the <code>NA</code> as <code>TRUE</code>, and dropping them would treat the <code>NA</code> as <code>FALSE</code>.<br />
The way R decides to handle the <code>NA</code> values so that they are treated differently than <code>TRUE</code> or <code>FALSE</code> values is to include elements where the indexing vector is <code>NA</code>, but set their values to <code>NA</code>.</p>
<p>Now consider the expression <code>x[-which(x &gt; 0)]</code>.
As before, to understand this expression we’ll work from the inside out.
Consider <code>x &gt; 0</code>.</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb481-1" data-line-number="1">x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb481-2" data-line-number="2"><span class="co">#&gt; [1] FALSE FALSE  TRUE  TRUE FALSE    NA    NA</span></a></code></pre></div>
<p>As with <code>x &lt;= 0</code>, it returns <code>NA</code> for comparisons involving <code>NA</code> and <code>NaN</code>.</p>
<p>What does <code>which()</code> do?</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb482-1" data-line-number="1"><span class="kw">which</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb482-2" data-line-number="2"><span class="co">#&gt; [1] 3 4</span></a></code></pre></div>
<p>The <code>which()</code> function returns the indexes for which the argument is <code>TRUE</code>.
This means that it is not including the indexes for which the argument is <code>FALSE</code> or <code>NA</code>.</p>
<p>Now consider the full expression <code>x[-which(x &gt; 0)]</code>?
The <code>which()</code> function returned a vector of integers.
How does indexing treat negative integers?</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb483-1" data-line-number="1">x[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb483-2" data-line-number="2"><span class="co">#&gt; [1] -1  0</span></a>
<a class="sourceLine" id="cb483-3" data-line-number="3">x[<span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)]</a>
<a class="sourceLine" id="cb483-4" data-line-number="4"><span class="co">#&gt; [1]    1  Inf -Inf  NaN   NA</span></a></code></pre></div>
<p>If indexing gets a vector of positive integers, it will select those indexes;
if it receives a vector of negative integers, it will drop those indexes.
Thus, <code>x[-which(x &gt; 0)]</code> ends up dropping the elements for which <code>x &gt; 0</code> is true,
and keeps all the other elements and their original values, including <code>NA</code> and <code>NaN</code>.</p>
<p>There’s one other special case that we should consider. How do these two expressions work with
an empty vector?</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb484-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">numeric</span>()</a>
<a class="sourceLine" id="cb484-2" data-line-number="2">x[x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span>]</a>
<a class="sourceLine" id="cb484-3" data-line-number="3"><span class="co">#&gt; numeric(0)</span></a>
<a class="sourceLine" id="cb484-4" data-line-number="4">x[<span class="op">-</span><span class="kw">which</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)]</a>
<a class="sourceLine" id="cb484-5" data-line-number="5"><span class="co">#&gt; numeric(0)</span></a></code></pre></div>
<p>Thankfully, they both handle empty vectors the same.</p>
<p>This exercise is a reminder to always test your code. Even though these two expressions looked
equivalent, they are not in practice. And when you do test code, consider both
how it works on typical values as well as special values and edge cases, like a
vector with <code>NA</code> or <code>NaN</code> or <code>Inf</code> values, or an empty vector. These are where
unexpected behavior is most likely to occur.</p>
</div>
</div>
<div id="exercise-20.4.6" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.4.6</span></h3>
<div class="question">
<p>What happens when you subset with a positive integer that’s bigger than the length of the vector? What happens when you subset with a name that doesn’t exist?</p>
</div>
<div class="answer">
<p>Let’s consider the named vector,</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb485-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">a =</span> <span class="dv">10</span>, <span class="dt">b =</span> <span class="dv">20</span>)</a></code></pre></div>
<p>If we subset it by an integer larger than its length, it returns a vector of missing values.</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb486-1" data-line-number="1">x[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb486-2" data-line-number="2"><span class="co">#&gt; &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb486-3" data-line-number="3"><span class="co">#&gt;   NA</span></a></code></pre></div>
<p>This also applies to ranges.</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb487-1" data-line-number="1">x[<span class="dv">3</span><span class="op">:</span><span class="dv">5</span>]</a>
<a class="sourceLine" id="cb487-2" data-line-number="2"><span class="co">#&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb487-3" data-line-number="3"><span class="co">#&gt;   NA   NA   NA</span></a></code></pre></div>
<p>If some indexes are larger than the length of the vector, those elements are <code>NA</code>.</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb488-1" data-line-number="1">x[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</a>
<a class="sourceLine" id="cb488-2" data-line-number="2"><span class="co">#&gt;    a    b &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb488-3" data-line-number="3"><span class="co">#&gt;   10   20   NA   NA   NA</span></a></code></pre></div>
<p>Likewise, when <code>[</code> is provided names not in the vector’s names, it will return
<code>NA</code> for those elements.</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb489-1" data-line-number="1">x[<span class="st">&quot;c&quot;</span>]</a>
<a class="sourceLine" id="cb489-2" data-line-number="2"><span class="co">#&gt; &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb489-3" data-line-number="3"><span class="co">#&gt;   NA</span></a>
<a class="sourceLine" id="cb489-4" data-line-number="4">x[<span class="kw">c</span>(<span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;e&quot;</span>)]</a>
<a class="sourceLine" id="cb489-5" data-line-number="5"><span class="co">#&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb489-6" data-line-number="6"><span class="co">#&gt;   NA   NA   NA</span></a>
<a class="sourceLine" id="cb489-7" data-line-number="7">x[<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)]</a>
<a class="sourceLine" id="cb489-8" data-line-number="8"><span class="co">#&gt;    a    b &lt;NA&gt; </span></a>
<a class="sourceLine" id="cb489-9" data-line-number="9"><span class="co">#&gt;   10   20   NA</span></a></code></pre></div>
<p>Though not yet discussed much in this chapter, the <code>[[</code> behaves differently.
With an atomic vector, if <code>[[</code> is given an index outside the range of the vector or an invalid name, it raises an error.</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb490-1" data-line-number="1">x[[<span class="st">&quot;c&quot;</span>]]</a>
<a class="sourceLine" id="cb490-2" data-line-number="2"><span class="co">#&gt; Error in x[[&quot;c&quot;]]: subscript out of bounds</span></a></code></pre></div>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb491-1" data-line-number="1">x[[<span class="dv">5</span>]]</a>
<a class="sourceLine" id="cb491-2" data-line-number="2"><span class="co">#&gt; Error in x[[5]]: subscript out of bounds</span></a></code></pre></div>
</div>
</div>
</div>
<div id="recursive-vectors-lists" class="section level2">
<h2><span class="header-section-number">20.5</span> Recursive Vectors (lists)</h2>
<div id="exercise-20.5.1" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.5.1</span></h3>
<div class="question">
<p>Draw the following lists as nested sets:</p>
<ol style="list-style-type: decimal">
<li><code>list(a, b, list(c, d), list(e, f))</code></li>
<li><code>list(list(list(list(list(list(a))))))</code></li>
</ol>
</div>
<div class="answer">
<p>There are a variety of ways to draw these graphs.
The original diagrams in <em>R for Data Science</em> were produced with <a href="https://www.omnigroup.com/omnigraffle">Graffle</a>.
You could also use various diagramming, drawing, or presentation software, including Adobe Illustrator, Inkscape, PowerPoint, Keynote, and Google Slides.</p>
<p>For these examples, I generated these diagrams programmatically using the
<a href="http://rich-iannone.github.io/DiagrammeR/graphviz_and_mermaid.html">DiagrammeR</a> R package to render <a href="https://www.graphviz.org/">Graphviz</a> diagrams.</p>
<ol style="list-style-type: decimal">
<li><p>The nested set diagram for
<code>list(a, b, list(c, d), list(e, f))</code>
is</p></li>
<li><p>The nested set diagram for
<code>list(list(list(list(list(list(a))))))1</code>
is as follows.</p></li>
</ol>
</div>
</div>
<div id="exercise-20.5.2" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.5.2</span></h3>
<div class="question">
<p>What happens if you subset a <code>tibble</code> as if you’re subsetting a list? What are the key differences between a list and a <code>tibble</code>?</p>
</div>
<div class="answer">
<p>Subsetting a <code>tibble</code> works the same way as a list; a data frame can be thought of as a list of columns.
The key difference between a list and a <code>tibble</code> is that all the elements (columns) of a tibble must have the same length (number of rows).
Lists can have vectors with different lengths as elements.</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb492-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">b =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb492-2" data-line-number="2">x[[<span class="st">&quot;a&quot;</span>]]</a>
<a class="sourceLine" id="cb492-3" data-line-number="3"><span class="co">#&gt; [1] 1 2</span></a>
<a class="sourceLine" id="cb492-4" data-line-number="4">x[<span class="st">&quot;a&quot;</span>]</a>
<a class="sourceLine" id="cb492-5" data-line-number="5"><span class="co">#&gt; # A tibble: 2 x 1</span></a>
<a class="sourceLine" id="cb492-6" data-line-number="6"><span class="co">#&gt;       a</span></a>
<a class="sourceLine" id="cb492-7" data-line-number="7"><span class="co">#&gt;   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb492-8" data-line-number="8"><span class="co">#&gt; 1     1</span></a>
<a class="sourceLine" id="cb492-9" data-line-number="9"><span class="co">#&gt; 2     2</span></a>
<a class="sourceLine" id="cb492-10" data-line-number="10">x[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb492-11" data-line-number="11"><span class="co">#&gt; # A tibble: 2 x 1</span></a>
<a class="sourceLine" id="cb492-12" data-line-number="12"><span class="co">#&gt;       a</span></a>
<a class="sourceLine" id="cb492-13" data-line-number="13"><span class="co">#&gt;   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb492-14" data-line-number="14"><span class="co">#&gt; 1     1</span></a>
<a class="sourceLine" id="cb492-15" data-line-number="15"><span class="co">#&gt; 2     2</span></a>
<a class="sourceLine" id="cb492-16" data-line-number="16">x[<span class="dv">1</span>, ]</a>
<a class="sourceLine" id="cb492-17" data-line-number="17"><span class="co">#&gt; # A tibble: 1 x 2</span></a>
<a class="sourceLine" id="cb492-18" data-line-number="18"><span class="co">#&gt;       a     b</span></a>
<a class="sourceLine" id="cb492-19" data-line-number="19"><span class="co">#&gt;   &lt;int&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb492-20" data-line-number="20"><span class="co">#&gt; 1     1     3</span></a></code></pre></div>
</div>
</div>
</div>
<div id="attributes" class="section level2">
<h2><span class="header-section-number">20.6</span> Attributes</h2>
<p>No exercises</p>
</div>
<div id="augmented-vectors" class="section level2">
<h2><span class="header-section-number">20.7</span> Augmented Vectors</h2>
<div id="exercise-20.7.1" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.7.1</span></h3>
<div class="question">
<p>What does <code>hms::hms(3600)</code> return? How does it print? What primitive type is the augmented vector built on top of? What attributes does it use?</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb493-1" data-line-number="1">x &lt;-<span class="st"> </span>hms<span class="op">::</span><span class="kw">hms</span>(<span class="dv">3600</span>)</a>
<a class="sourceLine" id="cb493-2" data-line-number="2"><span class="kw">class</span>(x)</a>
<a class="sourceLine" id="cb493-3" data-line-number="3"><span class="co">#&gt; [1] &quot;hms&quot;      &quot;difftime&quot;</span></a>
<a class="sourceLine" id="cb493-4" data-line-number="4">x</a>
<a class="sourceLine" id="cb493-5" data-line-number="5"><span class="co">#&gt; 01:00:00</span></a></code></pre></div>
<p><code>hms::hms</code> returns an object of class, and prints the time in “%H:%M:%S” format.</p>
<p>The primitive type is a double</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb494-1" data-line-number="1"><span class="kw">typeof</span>(x)</a>
<a class="sourceLine" id="cb494-2" data-line-number="2"><span class="co">#&gt; [1] &quot;double&quot;</span></a></code></pre></div>
<p>The attributes is uses are <code>&quot;units&quot;</code> and <code>&quot;class&quot;</code>.</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb495-1" data-line-number="1"><span class="kw">attributes</span>(x)</a>
<a class="sourceLine" id="cb495-2" data-line-number="2"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb495-3" data-line-number="3"><span class="co">#&gt; [1] &quot;hms&quot;      &quot;difftime&quot;</span></a>
<a class="sourceLine" id="cb495-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb495-5" data-line-number="5"><span class="co">#&gt; $units</span></a>
<a class="sourceLine" id="cb495-6" data-line-number="6"><span class="co">#&gt; [1] &quot;secs&quot;</span></a></code></pre></div>
</div>
</div>
<div id="exercise-20.7.2" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.7.2</span></h3>
<div class="question">
<p>Try and make a tibble that has columns with different lengths. What happens?</p>
</div>
<div class="answer">
<p>If I try to create at tibble with a scalar and column of a different length there are no issues, and the scalar is repeated to the length of the longer vector.</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb496-1" data-line-number="1"><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb496-2" data-line-number="2"><span class="co">#&gt; # A tibble: 5 x 2</span></a>
<a class="sourceLine" id="cb496-3" data-line-number="3"><span class="co">#&gt;       x     y</span></a>
<a class="sourceLine" id="cb496-4" data-line-number="4"><span class="co">#&gt;   &lt;dbl&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb496-5" data-line-number="5"><span class="co">#&gt; 1     1     1</span></a>
<a class="sourceLine" id="cb496-6" data-line-number="6"><span class="co">#&gt; 2     1     2</span></a>
<a class="sourceLine" id="cb496-7" data-line-number="7"><span class="co">#&gt; 3     1     3</span></a>
<a class="sourceLine" id="cb496-8" data-line-number="8"><span class="co">#&gt; 4     1     4</span></a>
<a class="sourceLine" id="cb496-9" data-line-number="9"><span class="co">#&gt; 5     1     5</span></a></code></pre></div>
<p>However, if I try to create a tibble with two vectors of different lengths (other than one), the <code>tibble</code> function throws an error.</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb497-1" data-line-number="1"><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb497-2" data-line-number="2"><span class="co">#&gt; Error: Column `x` must be length 1 or 4, not 3</span></a></code></pre></div>
</div>
</div>
<div id="exercise-20.7.3" class="section level3 unnumbered exercise">
<h3>Exercise <span class="exercise-number">20.7.3</span></h3>
<div class="question">
<p>Based on the definition above, is it OK to have a list as a column of a tibble?</p>
</div>
<div class="answer">
<p>If I didn’t already know the answer, what I would do is try it out.
From the above, the error message was about vectors having different lengths.
But there is nothing that prevents a tibble from having vectors of different types: doubles, character, integers, logical, factor, date.
The later are still atomic, but they have additional attributes.
So, maybe there won’t be an issue with a list vector as long as it is the same length.</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb498-1" data-line-number="1"><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y =</span> <span class="kw">list</span>(<span class="st">&quot;a&quot;</span>, <span class="dv">1</span>, <span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)))</a>
<a class="sourceLine" id="cb498-2" data-line-number="2"><span class="co">#&gt; # A tibble: 3 x 2</span></a>
<a class="sourceLine" id="cb498-3" data-line-number="3"><span class="co">#&gt;       x y         </span></a>
<a class="sourceLine" id="cb498-4" data-line-number="4"><span class="co">#&gt;   &lt;int&gt; &lt;list&gt;    </span></a>
<a class="sourceLine" id="cb498-5" data-line-number="5"><span class="co">#&gt; 1     1 &lt;chr [1]&gt; </span></a>
<a class="sourceLine" id="cb498-6" data-line-number="6"><span class="co">#&gt; 2     2 &lt;dbl [1]&gt; </span></a>
<a class="sourceLine" id="cb498-7" data-line-number="7"><span class="co">#&gt; 3     3 &lt;list [1]&gt;</span></a></code></pre></div>
<p>It works! I even used a list with heterogeneous types and there wasn’t an issue.
In following chapters we’ll see that list vectors can be very useful: for example, when processing many different models.</p>
</div>
<p>[^double-rounding: The built-in variable <code>.Machine$double.rounding</code> indicates
the rounding method used by R. It states that the round half to even
method is expected to be used, but this may differ by operating system.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="iteration.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jrnold/r4ds-exercise-solutions/edit/master/vectors.Rmd",
"text": "Edit"
},
"download": ["r4ds-solutions.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
